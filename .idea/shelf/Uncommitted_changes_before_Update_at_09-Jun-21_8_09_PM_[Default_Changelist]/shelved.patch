Index: app/src/main/java/com/example/orderfoodapp/fragments/MainMenuFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp.fragments\r\n\r\nimport android.content.Intent\r\nimport android.graphics.Color\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Toast\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport com.example.orderfoodapp.Dish\r\nimport com.example.orderfoodapp.DishAdapter\r\nimport com.example.orderfoodapp.R\r\nimport com.google.firebase.database.*\r\nimport kotlinx.android.synthetic.main.fragment_main_menu.*\r\n\r\nclass MainMenuFragment : Fragment() {\r\n\r\n    private lateinit var dishAdapterNearestRestaurants: DishAdapter\r\n    private lateinit var dishAdapterTrendingNow: DishAdapter\r\n\r\n    private val filterAllFoodFragment = FilterAllFoodFragment()\r\n    private val filterPizzaFragment = FilterPizzaFragment()\r\n    private val filterDrinkFragment = FilterDrinkFragment()\r\n    private val filterAsianFoodFragment = FilterAsianFoodFragment()\r\n    private var searchFragment = SearchFragment()\r\n    private var curFragment = Fragment()\r\n\r\n    private lateinit var database: FirebaseDatabase\r\n    private lateinit var ref: DatabaseReference\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_main_menu, container, false)\r\n    }\r\n\r\n    override fun onResume() {\r\n        super.onResume()\r\n\r\n        //create adapter for nearestRestaurant_recyclerView\r\n        dishAdapterNearestRestaurants = DishAdapter(mutableListOf())\r\n        nearestRestaurants_recyclerView.adapter = dishAdapterNearestRestaurants\r\n\r\n        //create adapter for trendingNow_recyclerView\r\n        dishAdapterTrendingNow = DishAdapter(mutableListOf())\r\n        trendingNow_recyclerView.adapter = dishAdapterTrendingNow\r\n\r\n        val layoutManager1 = LinearLayoutManager(context,LinearLayoutManager.HORIZONTAL,false)\r\n        nearestRestaurants_recyclerView.layoutManager = layoutManager1\r\n\r\n        val layoutManager2 = LinearLayoutManager(context,LinearLayoutManager.HORIZONTAL,false)\r\n        trendingNow_recyclerView.layoutManager = layoutManager2\r\n\r\n        database = FirebaseDatabase.getInstance()\r\n        ref = database.getReference(\"Product\")\r\n        ref.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n                for(data in snapshot.children) {\r\n                    val dish = Dish(\r\n                        data.child(\"id\").value as String,\r\n                        data.child(\"image\").value as String,\r\n                        data.child(\"name\").value as String,\r\n                        data.child(\"priceS\").value as Double,\r\n                        data.child(\"priceM\").value as Double,\r\n                        data.child(\"priceL\").value as Double,\r\n                        data.child(\"rated\").value as Double,\r\n                        data.child(\"deliveryTime\").value as String,\r\n                        data.child(\"category\").value as String,\r\n                        data.child(\"description\").value as String,\r\n                        data.child(\"salePercent\").value as Long,\r\n                        data.child(\"amount\").value as Long,\r\n                    )\r\n                    dishAdapterNearestRestaurants.addDish(dish)\r\n                    dishAdapterTrendingNow.addDish(dish)\r\n                }\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n\r\n            }\r\n\r\n        })\r\n\r\n\r\n        filter_button.setOnClickListener {\r\n            filterOnClick()\r\n        }\r\n\r\n        allFood_button.setOnClickListener {\r\n            curFragment = filterAllFoodFragment\r\n            categoriesColorOnClick(it)\r\n            replaceFragment(filterAllFoodFragment)\r\n            filter_container_inside.visibility = View.GONE\r\n        }\r\n\r\n        pizza_button.setOnClickListener {\r\n            curFragment = filterPizzaFragment\r\n            categoriesColorOnClick(it)\r\n            replaceFragment(filterPizzaFragment)\r\n            filter_container_inside.visibility = View.GONE\r\n        }\r\n\r\n        beverages_button.setOnClickListener {\r\n            curFragment = filterDrinkFragment\r\n            categoriesColorOnClick(it)\r\n            replaceFragment(filterDrinkFragment)\r\n            filter_container_inside.visibility = View.GONE\r\n        }\r\n\r\n        asianFood_button.setOnClickListener {\r\n            curFragment = filterAsianFoodFragment\r\n            categoriesColorOnClick(it)\r\n            replaceFragment(filterAsianFoodFragment)\r\n            filter_container_inside.visibility = View.GONE\r\n        }\r\n\r\n        search_button.setOnClickListener() {\r\n\r\n\r\n            if(searchFragment.isAdded || search_editText.text.isNotEmpty()) {\r\n                searchFragment = SearchFragment()\r\n                curFragment = searchFragment\r\n            }\r\n            else\r\n                Toast.makeText(context, \"Please enter the food's name\", Toast.LENGTH_LONG).show()\r\n\r\n            if(search_editText.text.isNotEmpty()) {\r\n                val bundle = Bundle()\r\n                bundle.putString(\"searchText\", search_editText.text.toString())\r\n                searchFragment.arguments = bundle\r\n                replaceFragment(searchFragment)\r\n\r\n                resetCategoriesColor()\r\n                search_editText.clearFocus()\r\n                filter_container_inside.visibility = View.GONE\r\n            }\r\n            else {\r\n                Toast.makeText(context, \"Please enter the food's name\", Toast.LENGTH_LONG).show()\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun replaceFragment(fragment: Fragment) {\r\n        val transaction = childFragmentManager.beginTransaction()\r\n        transaction.replace(R.id.filter_container, fragment)\r\n        transaction.commit()\r\n    }\r\n\r\n    private fun filterOnClick() {\r\n        if(filter_layout.visibility == View.VISIBLE) {\r\n            if( curFragment == filterAllFoodFragment ||\r\n                curFragment == filterPizzaFragment ||\r\n                curFragment == filterDrinkFragment ||\r\n                curFragment == filterAsianFoodFragment ) {\r\n                childFragmentManager.beginTransaction().hide(curFragment).commit()\r\n            }\r\n            resetCategoriesColor()\r\n            search_editText.text.clear()\r\n            filter_layout.visibility = View.GONE\r\n            filter_container_inside.visibility = View.VISIBLE\r\n        }\r\n        else\r\n            filter_layout.visibility = View.VISIBLE\r\n    }\r\n\r\n    private fun categoriesColorOnClick(view: View) {\r\n\r\n        resetCategoriesColor()\r\n\r\n        when(view.id) {\r\n\r\n            R.id.allFood_button -> {\r\n                allFood_button.setBackgroundResource(R.drawable.bg_borderless_orange)\r\n                allFood_icon.setColorFilter(Color.WHITE)\r\n                allFood_textView.setTextColor(Color.parseColor(\"#FF8526\"))\r\n            }\r\n\r\n            R.id.pizza_button -> {\r\n                pizza_button.setBackgroundResource(R.drawable.bg_borderless_orange)\r\n                pizza_icon.setColorFilter(Color.WHITE)\r\n                pizza_textView.setTextColor(Color.parseColor(\"#FF8526\"))\r\n            }\r\n\r\n            R.id.beverages_button -> {\r\n                beverages_button.setBackgroundResource(R.drawable.bg_borderless_orange)\r\n                beverages_icon.setColorFilter(Color.WHITE)\r\n                beverages_textView.setTextColor(Color.parseColor(\"#FF8526\"))\r\n            }\r\n\r\n            R.id.asianFood_button -> {\r\n                asianFood_button.setBackgroundResource(R.drawable.bg_borderless_orange)\r\n                asianFood_icon.setColorFilter(Color.WHITE)\r\n                asianFood_textView.setTextColor(Color.parseColor(\"#FF8526\"))\r\n            }\r\n        }\r\n    }\r\n\r\n    //this function reset all category buttons back to the original color (gray)\r\n    private fun resetCategoriesColor() {\r\n\r\n        allFood_button.setBackgroundResource(R.drawable.bg_borderless_edit_text)\r\n        allFood_icon.setColorFilter(Color.parseColor(\"#838383\"))\r\n        allFood_textView.setTextColor(Color.parseColor(\"#838383\"))\r\n\r\n        pizza_button.setBackgroundResource(R.drawable.bg_borderless_edit_text)\r\n        pizza_icon.setColorFilter(Color.parseColor(\"#838383\"))\r\n        pizza_textView.setTextColor(Color.parseColor(\"#838383\"))\r\n\r\n        beverages_button.setBackgroundResource(R.drawable.bg_borderless_edit_text)\r\n        beverages_icon.setColorFilter(Color.parseColor(\"#838383\"))\r\n        beverages_textView.setTextColor(Color.parseColor(\"#838383\"))\r\n\r\n        asianFood_button.setBackgroundResource(R.drawable.bg_borderless_edit_text)\r\n        asianFood_icon.setColorFilter(Color.parseColor(\"#838383\"))\r\n        asianFood_textView.setTextColor(Color.parseColor(\"#838383\"))\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/fragments/MainMenuFragment.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/fragments/MainMenuFragment.kt	(date 1623233429887)
@@ -1,20 +1,27 @@
 package com.example.orderfoodapp.fragments
 
-import android.content.Intent
+import android.app.Activity
+import android.content.pm.PackageManager
 import android.graphics.Color
+import android.location.*
 import android.os.Bundle
 import android.util.Log
-import androidx.fragment.app.Fragment
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
 import android.widget.Toast
+import androidx.core.app.ActivityCompat
+import androidx.fragment.app.Fragment
 import androidx.recyclerview.widget.LinearLayoutManager
 import com.example.orderfoodapp.Dish
 import com.example.orderfoodapp.DishAdapter
+import com.example.orderfoodapp.EstimateTime
 import com.example.orderfoodapp.R
+import com.google.android.gms.location.*
 import com.google.firebase.database.*
 import kotlinx.android.synthetic.main.fragment_main_menu.*
+import java.util.*
+
 
 class MainMenuFragment : Fragment() {
 
@@ -22,7 +29,7 @@
     private lateinit var dishAdapterTrendingNow: DishAdapter
 
     private val filterAllFoodFragment = FilterAllFoodFragment()
-    private val filterPizzaFragment = FilterPizzaFragment()
+    private val filterWesternFragment = FilterWesternFragment()
     private val filterDrinkFragment = FilterDrinkFragment()
     private val filterAsianFoodFragment = FilterAsianFoodFragment()
     private var searchFragment = SearchFragment()
@@ -31,8 +38,20 @@
     private lateinit var database: FirebaseDatabase
     private lateinit var ref: DatabaseReference
 
+    private lateinit var fusedLocationProvider: FusedLocationProviderClient
+
+    private var curLat = 0.0
+    private var curLon = 0.0
+    private var providerLat = 0.0
+    private var providerLon = 0.0
+
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
+
+        fusedLocationProvider = LocationServices.getFusedLocationProviderClient(context as Activity)
+        getLocation()
+
+        estimateTime()
     }
 
     override fun onCreateView(
@@ -46,6 +65,8 @@
     override fun onResume() {
         super.onResume()
 
+        //estimateTime()
+
         //create adapter for nearestRestaurant_recyclerView
         dishAdapterNearestRestaurants = DishAdapter(mutableListOf())
         nearestRestaurants_recyclerView.adapter = dishAdapterNearestRestaurants
@@ -103,9 +124,9 @@
         }
 
         pizza_button.setOnClickListener {
-            curFragment = filterPizzaFragment
+            curFragment = filterWesternFragment
             categoriesColorOnClick(it)
-            replaceFragment(filterPizzaFragment)
+            replaceFragment(filterWesternFragment)
             filter_container_inside.visibility = View.GONE
         }
 
@@ -124,8 +145,6 @@
         }
 
         search_button.setOnClickListener() {
-
-
             if(searchFragment.isAdded || search_editText.text.isNotEmpty()) {
                 searchFragment = SearchFragment()
                 curFragment = searchFragment
@@ -147,6 +166,7 @@
                 Toast.makeText(context, "Please enter the food's name", Toast.LENGTH_LONG).show()
             }
         }
+
     }
 
     private fun replaceFragment(fragment: Fragment) {
@@ -158,10 +178,10 @@
     private fun filterOnClick() {
         if(filter_layout.visibility == View.VISIBLE) {
             if( curFragment == filterAllFoodFragment ||
-                curFragment == filterPizzaFragment ||
+                curFragment == filterWesternFragment ||
                 curFragment == filterDrinkFragment ||
                 curFragment == filterAsianFoodFragment ) {
-                childFragmentManager.beginTransaction().hide(curFragment).commit()
+                childFragmentManager.beginTransaction().remove(curFragment).commit()
             }
             resetCategoriesColor()
             search_editText.text.clear()
@@ -224,4 +244,70 @@
         asianFood_textView.setTextColor(Color.parseColor("#838383"))
     }
 
+    private fun getLocation() {
+        if (ActivityCompat.checkSelfPermission(
+                context as Activity,
+                android.Manifest.permission.ACCESS_FINE_LOCATION
+            ) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(
+                context as Activity,
+                android.Manifest.permission.ACCESS_COARSE_LOCATION
+            ) != PackageManager.PERMISSION_GRANTED
+        ) {
+            return
+        }
+        fusedLocationProvider.lastLocation.addOnCompleteListener {
+            val location = it.result
+            if(location != null) {
+                val geocoder = Geocoder(context, Locale.getDefault())
+                val address: List<Address> = geocoder.getFromLocation(
+                    location.latitude, location.longitude, 1
+                )
+                curLat = address[0].latitude
+                curLon = address[0].longitude
+                location_textView.text = address[0].getAddressLine(0)
+            }
+            else {
+                Toast.makeText(context, "Cannot get current location!", Toast.LENGTH_LONG).show()
+            }
+        }
+    }
+
+    private fun convertLocation(myLocation: String) {
+        val geocoder = Geocoder(context, Locale.getDefault())
+        val addresses: List<Address> = geocoder.getFromLocationName(myLocation, 1)
+        val address: Address = addresses[0]
+        providerLat = address.latitude
+        providerLon = address.longitude
+    }
+
+    private fun estimateTime() {
+        val dbRef = FirebaseDatabase.getInstance().getReference("Product")
+        dbRef.addValueEventListener(object : ValueEventListener {
+            override fun onDataChange(snapshot: DataSnapshot) {
+                for(data in snapshot.children) {
+                    var prLocation: String
+
+                    val provider = data.child("provider").value as String
+                    val dbRef2 = FirebaseDatabase.getInstance().getReference("Provider/$provider")
+                    dbRef2.child("location").get().addOnSuccessListener {
+                        prLocation = it.value as String
+                        convertLocation(prLocation)
+
+                        val est = EstimateTime()
+                        val deliveryTime = est.estimateTime(curLat, curLon, providerLat, providerLon)
+
+                        val dbRef3 = FirebaseDatabase.getInstance()
+                            .getReference("Product/${data.key}")
+                        dbRef3.child("deliveryTime").setValue(deliveryTime)
+                    }
+                }
+            }
+
+            override fun onCancelled(error: DatabaseError) {
+
+            }
+
+        })
+    }
+
 }
\ No newline at end of file
Index: app/src/main/java/com/example/orderfoodapp/MainMenuActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport kotlinx.android.synthetic.main.activity_main_menu.*\r\nimport kotlinx.android.synthetic.main.fragment_main_menu.*\r\n\r\nclass MainMenuActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main_menu)\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/MainMenuActivity.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/MainMenuActivity.kt	(date 1623060697916)
@@ -1,15 +1,68 @@
 package com.example.orderfoodapp
 
-import androidx.appcompat.app.AppCompatActivity
+import android.content.Intent
 import android.os.Bundle
-import androidx.recyclerview.widget.LinearLayoutManager
+import android.view.View
+import androidx.appcompat.app.AppCompatActivity
+import androidx.fragment.app.Fragment
+import com.example.orderfoodapp.fragments.FavouriteFragment
+import com.example.orderfoodapp.fragments.MainMenuFragment
+import com.example.orderfoodapp.fragments.MenuFragment
+import com.example.orderfoodapp.fragments.ProfileFragment
+import com.google.firebase.auth.ktx.auth
+import com.google.firebase.ktx.Firebase
 import kotlinx.android.synthetic.main.activity_main_menu.*
-import kotlinx.android.synthetic.main.fragment_main_menu.*
+
 
 class MainMenuActivity : AppCompatActivity() {
 
+    private val mainMenuFragment = MainMenuFragment()
+    private val profileFragment = ProfileFragment()
+    private val menuFragment = MenuFragment()
+    private val favouriteFragment = FavouriteFragment()
+
+    private var customerEmail = ""
+
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         setContentView(R.layout.activity_main_menu)
+
+        customerEmail = Firebase.auth.currentUser?.email.toString()
+
+        //this code is for switching between tabs of bottom navigation bar, NOT do functional task
+        replaceFragment(mainMenuFragment)
+        bottom_app_bar.setOnNavigationItemSelectedListener {
+            when(it.itemId) {
+                R.id.navbottombar_profile -> {
+                    replaceFragment(profileFragment)
+                    shoppingCart_button.visibility = View.GONE
+                }
+                R.id.navbottombar_home -> {
+                    replaceFragment(mainMenuFragment)
+                    shoppingCart_button.visibility = View.VISIBLE
+                }
+                R.id.navbottombar_favourite -> {
+                    replaceFragment(favouriteFragment)
+                    shoppingCart_button.visibility = View.VISIBLE
+                }
+                R.id.navbottombar_menu -> {
+                    replaceFragment(menuFragment)
+                    shoppingCart_button.visibility = View.VISIBLE
+                }
+            }
+            true
+        }
+
+        shoppingCart_button.setOnClickListener() {
+            val intent = Intent(Intent(this, CartActivity::class.java))
+            startActivity(intent)
+        }
+    }
+
+    //this function use for switching between tabs of bottom navigation bar, belong to MainMenuActivity
+    private fun replaceFragment(fragment: Fragment) {
+        val transaction = supportFragmentManager.beginTransaction()
+        transaction.replace(R.id.fragment_container, fragment)
+        transaction.commit()
     }
 }
\ No newline at end of file
Index: app/src/main/res/layout/activity_checkout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:background=\"@color/plain_gray\">\r\n\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\" >\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\" >\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/back_layout\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"30dp\"\r\n                    android:background=\"@drawable/bg_circle\"\r\n                    android:gravity=\"center\" >\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/back_button\"\r\n                        android:layout_marginLeft=\"9dp\"\r\n                        android:layout_marginStart=\"9dp\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        app:srcCompat=\"@drawable/ic_arrow_back\"\r\n                        android:contentDescription=\"btnBack\" />\r\n\r\n                </LinearLayout>\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"30dp\"\r\n                    android:text=\"@string/checkout\"\r\n                    android:textSize=\"35sp\" />\r\n\r\n\r\n            </LinearLayout>\r\n\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:layout_marginLeft=\"30dp\"\r\n                android:layout_marginRight=\"30dp\"\r\n                android:layout_marginBottom=\"0dp\"\r\n                android:background=\"@drawable/bg_orange_radius\">\r\n\r\n                <ImageView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:layout_marginLeft=\"10dp\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    app:srcCompat=\"@drawable/ic_location\"\r\n                    app:tint=\"@color/white\" />\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"10dp\"\r\n                    android:orientation=\"vertical\" >\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"@string/deliver_to\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"25sp\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/address_textView\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:layout_marginBottom=\"10dp\"\r\n                        android:text=\"242 ST Marks Eve, Finland\"\r\n                        android:textColor=\"@color/white\"\r\n                        android:textSize=\"20sp\"/>\r\n\r\n                </LinearLayout>\r\n\r\n            </LinearLayout>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginLeft=\"22dp\"\r\n                android:layout_marginRight=\"22dp\"\r\n                app:cardUseCompatPadding=\"true\"\r\n                app:cardElevation=\"4dp\"\r\n                app:cardCornerRadius=\"15dp\" >\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"vertical\"\r\n                    >\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginLeft=\"20dp\"\r\n                            android:layout_marginStart=\"20dp\"\r\n                            android:layout_marginRight=\"20dp\"\r\n                            android:layout_marginBottom=\"10dp\"\r\n                            android:layout_marginTop=\"15dp\"\r\n                            android:text=\"@string/delivery_method\"\r\n                            android:textSize=\"22sp\"\r\n                            android:textColor=\"@color/orange_brown\"\r\n                        />\r\n\r\n                        <RadioGroup\r\n                            android:id=\"@+id/delivery_group\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:orientation=\"vertical\">\r\n                            <RadioButton\r\n                                android:id=\"@+id/standard_button\"\r\n                                android:text=\"Standard ($1.75)\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginStart=\"15dp\"\r\n                                android:layout_marginLeft=\"15dp\"\r\n                                android:textSize=\"19sp\"\r\n                                android:textColor=\"@drawable/textcolor_radiobutton\"\r\n                                android:minHeight=\"0dp\"\r\n                                android:minWidth=\"0dp\"\r\n                            />\r\n\r\n                            <RadioButton\r\n                                android:id=\"@+id/premium_button\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginLeft=\"15dp\"\r\n                                android:layout_marginStart=\"15dp\"\r\n                                android:text=\"Premium ($3.00)\"\r\n                                android:textSize=\"19sp\"\r\n                                android:layout_marginBottom=\"10dp\"\r\n                                android:textColor=\"@drawable/textcolor_radiobutton\"\r\n                                android:minHeight=\"0dp\"\r\n                                android:minWidth=\"0dp\"/>\r\n\r\n                        </RadioGroup>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:gravity=\"end\"\r\n                    >\r\n\r\n                        <ImageView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_gravity=\"bottom\"\r\n                            android:layout_marginRight=\"15dp\"\r\n                            android:layout_marginEnd=\"15dp\"\r\n                            android:layout_marginTop=\"20dp\"\r\n                            android:src=\"@drawable/img_truck\"\r\n                            android:contentDescription=\"truck image\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                </LinearLayout>\r\n\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginLeft=\"22dp\"\r\n                android:layout_marginRight=\"22dp\"\r\n                app:cardUseCompatPadding=\"true\"\r\n                app:cardElevation=\"4dp\"\r\n                app:cardCornerRadius=\"15dp\"\r\n            >\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\" >\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:orientation=\"vertical\"  >\r\n\r\n                        <TextView\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginLeft=\"20dp\"\r\n                            android:layout_marginStart=\"20dp\"\r\n                            android:layout_marginRight=\"20dp\"\r\n                            android:layout_marginBottom=\"10dp\"\r\n                            android:layout_marginTop=\"15dp\"\r\n                            android:text=\"@string/payment_method\"\r\n                            android:textSize=\"22sp\"\r\n                            android:textColor=\"@color/orange_brown\"/>\r\n\r\n                        <RadioGroup\r\n                            android:id=\"@+id/payment_group\"\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:orientation=\"vertical\" >\r\n\r\n                            <RadioButton\r\n                                android:id=\"@+id/cod_button\"\r\n                                android:text=\"Cash On Delivery\"\r\n                                android:textColor=\"@drawable/textcolor_radiobutton\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginStart=\"15dp\"\r\n                                android:layout_marginLeft=\"15dp\"\r\n                                android:textSize=\"19sp\"\r\n                                android:minHeight=\"0dp\"\r\n                                android:minWidth=\"0dp\"/>\r\n\r\n\r\n                            <RadioButton\r\n                                android:id=\"@+id/myWallet_button\"\r\n                                android:text=\"My Wallet\"\r\n                                android:textColor=\"@drawable/textcolor_radiobutton\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_marginStart=\"15dp\"\r\n                                android:layout_marginLeft=\"15dp\"\r\n                                android:textSize=\"19sp\"\r\n                                android:minHeight=\"0dp\"\r\n                                android:minWidth=\"0dp\"\r\n                                />\r\n\r\n                        </RadioGroup>\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:gravity=\"end\">\r\n\r\n                        <ImageView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:src=\"@drawable/img_wallet\"\r\n                            android:layout_marginRight=\"15dp\"\r\n                            android:layout_marginEnd=\"15dp\"\r\n                            android:layout_marginTop=\"20dp\"\r\n                            android:layout_gravity=\"bottom\"\r\n                            android:contentDescription=\"wallet image\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                </LinearLayout>\r\n\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\"\r\n                android:layout_marginBottom=\"0dp\"\r\n                android:background=\"@drawable/bg_corner_navbottombar\"\r\n                android:gravity=\"center\" >\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:layout_marginTop=\"10dp\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginLeft=\"40dp\"\r\n                        android:layout_marginStart=\"40dp\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Subtotal: \"\r\n                            android:textSize=\"20sp\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginRight=\"40dp\"\r\n                        android:layout_marginEnd=\"40dp\"\r\n                        android:gravity=\"end\">\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/subtotal_textView\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"$26.88\"\r\n                            android:textSize=\"20sp\" />\r\n\r\n                    </LinearLayout>\r\n\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginLeft=\"40dp\"\r\n                        android:layout_marginStart=\"40dp\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Delivery fee:\"\r\n                            android:textSize=\"20sp\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginRight=\"40dp\"\r\n                        android:layout_marginEnd=\"40dp\"\r\n                        android:gravity=\"end\">\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/deliveryFee_textView\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"$1.75\"\r\n                            android:textSize=\"20sp\" />\r\n\r\n                    </LinearLayout>\r\n\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginLeft=\"40dp\"\r\n                        android:layout_marginStart=\"40dp\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Sale off: \"\r\n                            android:textSize=\"20sp\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginRight=\"40dp\"\r\n                        android:layout_marginEnd=\"40dp\"\r\n                        android:gravity=\"end\">\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/saleOff_textView\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"$5.38\"\r\n                            android:textSize=\"20sp\"\r\n                        />\r\n                    </LinearLayout>\r\n\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginLeft=\"40dp\"\r\n                        android:layout_marginStart=\"40dp\">\r\n\r\n                        <TextView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"@string/total\"\r\n                            android:textSize=\"40sp\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginRight=\"40dp\"\r\n                        android:layout_marginEnd=\"40dp\"\r\n                        android:gravity=\"end\">\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/total_textView\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"$23.25\"\r\n                            android:textSize=\"40sp\"/>\r\n\r\n                    </LinearLayout>\r\n\r\n                </LinearLayout>\r\n\r\n                <Button\r\n                    android:id=\"@+id/confirm_button\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:layout_marginLeft=\"30dp\"\r\n                    android:layout_marginRight=\"30dp\"\r\n                    android:layout_marginBottom=\"20dp\"\r\n                    android:text=\"Confirm\"\r\n                    android:background=\"@drawable/bg_orange_radius\"\r\n                    app:backgroundTint=\"@null\" />\r\n\r\n            </LinearLayout>\r\n\r\n        </LinearLayout>\r\n\r\n\r\n    </androidx.core.widget.NestedScrollView>\r\n\r\n</androidx.coordinatorlayout.widget.CoordinatorLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_checkout.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/layout/activity_checkout.xml	(date 1623231552735)
@@ -64,14 +64,14 @@
                 <ImageView
                     android:layout_width="wrap_content"
                     android:layout_height="wrap_content"
-                    android:layout_marginTop="10dp"
+                    android:layout_marginTop="20dp"
                     android:layout_marginLeft="10dp"
                     android:layout_marginStart="10dp"
                     app:srcCompat="@drawable/ic_location"
                     app:tint="@color/white" />
 
                 <LinearLayout
-                    android:layout_width="wrap_content"
+                    android:layout_width="200dp"
                     android:layout_height="wrap_content"
                     android:layout_margin="10dp"
                     android:orientation="vertical" >
@@ -81,17 +81,16 @@
                         android:layout_height="wrap_content"
                         android:text="@string/deliver_to"
                         android:textColor="@color/white"
-                        android:textSize="25sp" />
+                        android:textSize="30sp" />
 
                     <TextView
                         android:id="@+id/address_textView"
-                        android:layout_width="wrap_content"
-                        android:layout_height="wrap_content"
-                        android:layout_marginTop="10dp"
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent"
                         android:layout_marginBottom="10dp"
                         android:text="242 ST Marks Eve, Finland"
                         android:textColor="@color/white"
-                        android:textSize="20sp"/>
+                        android:textSize="17sp"/>
 
                 </LinearLayout>
 
@@ -137,7 +136,7 @@
                             android:orientation="vertical">
                             <RadioButton
                                 android:id="@+id/standard_button"
-                                android:text="Standard ($1.75)"
+                                android:text="Standard"
                                 android:layout_width="wrap_content"
                                 android:layout_height="wrap_content"
                                 android:layout_marginStart="15dp"
@@ -154,7 +153,7 @@
                                 android:layout_height="wrap_content"
                                 android:layout_marginLeft="15dp"
                                 android:layout_marginStart="15dp"
-                                android:text="Premium ($3.00)"
+                                android:text="Premium"
                                 android:textSize="19sp"
                                 android:layout_marginBottom="10dp"
                                 android:textColor="@drawable/textcolor_radiobutton"
@@ -311,11 +310,17 @@
                         android:layout_marginEnd="40dp"
                         android:gravity="end">
 
+                        <TextView
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:text="$"
+                            android:textSize="20sp" />
+
                         <TextView
                             android:id="@+id/subtotal_textView"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
-                            android:text="$26.88"
+                            android:text="26.88"
                             android:textSize="20sp" />
 
                     </LinearLayout>
@@ -349,11 +354,17 @@
                         android:layout_marginEnd="40dp"
                         android:gravity="end">
 
+                        <TextView
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:text="$"
+                            android:textSize="20sp" />
+
                         <TextView
                             android:id="@+id/deliveryFee_textView"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
-                            android:text="$1.75"
+                            android:text="0.00"
                             android:textSize="20sp" />
 
                     </LinearLayout>
@@ -387,11 +398,17 @@
                         android:layout_marginEnd="40dp"
                         android:gravity="end">
 
+                        <TextView
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:text="$"
+                            android:textSize="20sp" />
+
                         <TextView
                             android:id="@+id/saleOff_textView"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
-                            android:text="$5.38"
+                            android:text="0.00"
                             android:textSize="20sp"
                         />
                     </LinearLayout>
@@ -425,11 +442,17 @@
                         android:layout_marginEnd="40dp"
                         android:gravity="end">
 
+                        <TextView
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            android:text="$"
+                            android:textSize="40sp" />
+
                         <TextView
                             android:id="@+id/total_textView"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
-                            android:text="$23.25"
+                            android:text="23.25"
                             android:textSize="40sp"/>
 
                     </LinearLayout>
Index: app/src/main/java/com/example/orderfoodapp/CheckoutActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport kotlinx.android.synthetic.main.activity_checkout.*\r\n\r\nclass CheckoutActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_checkout)\r\n\r\n        back_button.setOnClickListener() {\r\n            finish()\r\n        }\r\n//\r\n//        standard_button.setOnClickListener {\r\n//            delivery_group.clearCheck()\r\n//        }\r\n//\r\n//        premium_button.setOnClickListener {\r\n//            delivery_group.clearCheck()\r\n//        }\r\n//\r\n//        cod_button.setOnClickListener {\r\n//            payment_group.clearCheck()\r\n//        }\r\n//\r\n//        myWallet_button.setOnClickListener {\r\n//            payment_group.clearCheck()\r\n//        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/CheckoutActivity.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/CheckoutActivity.kt	(date 1623233255895)
@@ -1,32 +1,132 @@
 package com.example.orderfoodapp
 
+import android.app.Activity
+import android.content.pm.PackageManager
+import android.location.Address
+import android.location.Geocoder
 import android.os.Bundle
+import android.view.View
+import android.widget.Toast
 import androidx.appcompat.app.AppCompatActivity
+import androidx.core.app.ActivityCompat
+import com.google.android.gms.location.FusedLocationProviderClient
+import com.google.android.gms.location.LocationServices
+import com.google.firebase.database.FirebaseDatabase
 import kotlinx.android.synthetic.main.activity_checkout.*
+import kotlinx.android.synthetic.main.fragment_main_menu.*
+import java.text.DecimalFormat
+import java.util.*
 
 class CheckoutActivity : AppCompatActivity() {
+
+    private lateinit var fusedLocationProvider: FusedLocationProviderClient
+    private var pay: Int = 0
+    private val df = DecimalFormat("##.##")
+
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         setContentView(R.layout.activity_checkout)
 
+        var subTotal = 0.0
+        val key = intent.getStringExtra("key")
+        if(key != null) {
+            val dbRef = FirebaseDatabase.getInstance().getReference("Bill/$key/subTotal")
+            dbRef.get().addOnSuccessListener {
+                subtotal_textView.text = it.value.toString()
+                total_textView.text = it.value.toString()
+
+                val a: Any = it.value as Any
+                val type = a::class.simpleName
+                if (type == "Long" || type == "Double")
+                    subTotal = a.toString().toDouble()
+
+            }
+        }
+
+        fusedLocationProvider = LocationServices.getFusedLocationProviderClient(this)
+        getLocation()
+
         back_button.setOnClickListener() {
             finish()
         }
-//
-//        standard_button.setOnClickListener {
-//            delivery_group.clearCheck()
-//        }
-//
-//        premium_button.setOnClickListener {
-//            delivery_group.clearCheck()
-//        }
-//
-//        cod_button.setOnClickListener {
-//            payment_group.clearCheck()
-//        }
-//
-//        myWallet_button.setOnClickListener {
-//            payment_group.clearCheck()
-//        }
+
+        standard_button.setOnClickListener() {
+            calculateFee(it, subTotal)
+        }
+
+        premium_button.setOnClickListener() {
+            calculateFee(it, subTotal)
+        }
+
+        cod_button.setOnClickListener() {
+            pay = 1
+        }
+
+        myWallet_button.setOnClickListener() {
+            pay = 2
+        }
+
+        confirm_button.setOnClickListener() {
+            if(deliveryFee_textView.text == "0.00") {
+                Toast.makeText(this, "Please choose a Delivery method!", Toast.LENGTH_LONG).show()
+            }
+            else if(pay == 0) {
+                Toast.makeText(this, "Please choose a Payment method!", Toast.LENGTH_LONG).show()
+            }
+            else {
+                checkout(key!!)
+            }
+        }
+    }
+
+    private fun checkout(key: String) {
+        val dbRef = FirebaseDatabase.getInstance().getReference("Bill/$key")
+        val finalTotal = total_textView.text.toString().toDouble()
+        dbRef.child("total").setValue(finalTotal)
+        dbRef.child("status").setValue("done")
+        Toast.makeText(this, "Successfully!", Toast.LENGTH_LONG).show()
+        finish()
+    }
+
+    private fun calculateFee(view: View, subTotal: Double) {
+        var fee = 0.0
+        when(view.id) {
+            R.id.standard_button -> {
+                fee = subTotal * 0.1
+                deliveryFee_textView.text = df.format(fee)
+            }
+            R.id.premium_button -> {
+                fee = subTotal * 0.15
+                deliveryFee_textView.text = df.format(fee)
+            }
+        }
+        val newTotal = subtotal_textView.text.toString().toDouble() + fee
+        total_textView.text = df.format(newTotal)
+    }
+
+    private fun getLocation() {
+        if (ActivityCompat.checkSelfPermission(
+                this,
+                android.Manifest.permission.ACCESS_FINE_LOCATION
+            ) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(
+                this,
+                android.Manifest.permission.ACCESS_COARSE_LOCATION
+            ) != PackageManager.PERMISSION_GRANTED
+        ) {
+            return
+        }
+        fusedLocationProvider.lastLocation.addOnCompleteListener {
+            val location = it.result
+            if(location != null) {
+                val geocoder = Geocoder(this, Locale.getDefault())
+                val address: List<Address> = geocoder.getFromLocation(
+                    location.latitude, location.longitude, 1
+                )
+                address_textView.text = address[0].getAddressLine(0)
+            }
+            else {
+                Toast.makeText(this, "Cannot get current location!", Toast.LENGTH_LONG).show()
+            }
+        }
     }
 }
\ No newline at end of file
Index: app/src/main/res/layout/activity_cart.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/plain_gray\" >\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/my_order_layout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"horizontal\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/back_button\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"30dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginBottom=\"10dp\"\r\n            android:background=\"@drawable/bg_circle\"\r\n            android:gravity=\"center\">\r\n\r\n            <ImageView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"9dp\"\r\n                android:layout_marginLeft=\"9dp\"\r\n                android:contentDescription=\"btnBack\"\r\n                app:srcCompat=\"@drawable/ic_arrow_back\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <TextView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"65dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginBottom=\"10dp\"\r\n            android:text=\"@string/my_order\"\r\n            android:textSize=\"35sp\" />\r\n\r\n    </LinearLayout>\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/cart_recyclerView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"490dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/my_order_layout\" />\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/linearLayout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@drawable/bg_corner_navbottombar\"\r\n        android:gravity=\"center\"\r\n        android:orientation=\"vertical\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"40dp\"\r\n                android:layout_marginLeft=\"40dp\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Item(s): \"\r\n                    android:textSize=\"20sp\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"40dp\"\r\n                android:layout_marginRight=\"40dp\"\r\n                android:gravity=\"end\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/numItem_textView\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"3\"\r\n                    android:textSize=\"20sp\" />\r\n\r\n            </LinearLayout>\r\n\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"40dp\"\r\n                android:layout_marginLeft=\"40dp\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Subtotal: \"\r\n                    android:textSize=\"20sp\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"40dp\"\r\n                android:layout_marginRight=\"40dp\"\r\n                android:gravity=\"end\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"$\"\r\n                    android:textSize=\"20sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/subTotal_textView\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"26.88\"\r\n                    android:textSize=\"20sp\" />\r\n\r\n            </LinearLayout>\r\n\r\n\r\n        </LinearLayout>\r\n\r\n\r\n        <Button\r\n            android:id=\"@+id/continue_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"30dp\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:layout_marginRight=\"30dp\"\r\n            android:layout_marginBottom=\"20dp\"\r\n            android:background=\"@drawable/bg_orange_radius\"\r\n            android:text=\"Continue\"\r\n            app:backgroundTint=\"@null\" />\r\n\r\n    </LinearLayout>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_cart.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/layout/activity_cart.xml	(date 1623233662513)
@@ -98,7 +98,7 @@
                     android:id="@+id/numItem_textView"
                     android:layout_width="wrap_content"
                     android:layout_height="wrap_content"
-                    android:text="3"
+                    android:text="0"
                     android:textSize="20sp" />
 
             </LinearLayout>
@@ -142,7 +142,7 @@
                     android:id="@+id/subTotal_textView"
                     android:layout_width="wrap_content"
                     android:layout_height="wrap_content"
-                    android:text="26.88"
+                    android:text="0.00"
                     android:textSize="20sp" />
 
             </LinearLayout>
Index: app/src/main/java/com/example/orderfoodapp/FoodDetail.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\nimport android.graphics.Color\r\nimport android.graphics.Typeface\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.View\r\nimport android.widget.Toast\r\nimport com.google.firebase.database.*\r\nimport com.squareup.picasso.Picasso\r\nimport kotlinx.android.synthetic.main.activity_food_detail.*\r\nimport java.text.DecimalFormat\r\nimport kotlin.math.roundToInt\r\n\r\nclass FoodDetail : AppCompatActivity() {\r\n\r\n    //customerEmail will be generated automatically when they sign up or log in\r\n    //when the app complete, customerEmail will be passed from the previous activities\r\n    private val customerEmail = \"khoavo617@gmail\"\r\n\r\n    private lateinit var priceS: String\r\n    private lateinit var priceM: String\r\n    private lateinit var priceL: String\r\n\r\n    private var sizeChosen = \"none\"\r\n    private var key = \"none\"\r\n    private var total = 0.0\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_food_detail)\r\n\r\n        val curDish = intent.getParcelableExtra<Dish>(\"curDish\")\r\n\r\n        if(curDish != null) {\r\n            Picasso.get().load(curDish.image).into(food_image)\r\n            food_text.text = curDish.name\r\n            rates_text.text = curDish.rated.toString()\r\n            time_text.text = curDish.deliveryTime\r\n            description_textView.text = curDish.description\r\n            price_value.text = \"0.00\"\r\n\r\n            priceS = curDish.priceS.toString()\r\n            priceM = curDish.priceM.toString()\r\n            priceL = curDish.priceL.toString()\r\n        }\r\n\r\n        back_button.setOnClickListener() {\r\n            finish()\r\n        }\r\n\r\n        image_s_size.setOnClickListener() {\r\n            resetButton()\r\n\r\n            image_s_size.setBackgroundResource(R.drawable.rounded_button_clicked)\r\n            s_size_text.setTextColor(Color.BLACK)\r\n            s_size_text.typeface = Typeface.DEFAULT_BOLD\r\n\r\n            sizeChosen = \"S\"\r\n            displayPrice(curDish!!)\r\n        }\r\n\r\n        image_m_size.setOnClickListener() {\r\n            resetButton()\r\n\r\n            image_m_size.setBackgroundResource(R.drawable.rounded_button_clicked)\r\n            m_size_text.setTextColor(Color.BLACK)\r\n            m_size_text.typeface = Typeface.DEFAULT_BOLD\r\n\r\n            sizeChosen = \"M\"\r\n            displayPrice(curDish!!)\r\n        }\r\n\r\n        image_l_size.setOnClickListener() {\r\n            resetButton()\r\n\r\n            image_l_size.setBackgroundResource(R.drawable.rounded_button_clicked)\r\n            l_size_text.setTextColor(Color.BLACK)\r\n            l_size_text.typeface = Typeface.DEFAULT_BOLD\r\n\r\n            sizeChosen = \"L\"\r\n            displayPrice(curDish!!)\r\n        }\r\n\r\n        image_increase_amount.setOnClickListener() {\r\n            var amount = amount_text.text.toString().toInt()\r\n            amount++\r\n            amount_text.text = amount.toString()\r\n            displayPrice(curDish!!)\r\n        }\r\n\r\n        image_decrease_amount.setOnClickListener() {\r\n            var amount = amount_text.text.toString().toInt()\r\n            if(amount > 1) {\r\n                amount--\r\n                amount_text.text = amount.toString()\r\n            }\r\n            displayPrice(curDish!!)\r\n        }\r\n\r\n        //find the pending bill of this customer\r\n        findPendingBill()\r\n        Log.i(\"msg1\", key)\r\n\r\n        addToCart_button.setOnClickListener() {\r\n            if(key != \"none\") {\r\n                Log.i(\"msg2\", key)\r\n                pushItemToPendingBill(curDish!!)\r\n            }\r\n            else {\r\n                createNewBill()\r\n                pushItemToPendingBill(curDish!!)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun findPendingBill() {\r\n        val dbRef = FirebaseDatabase.getInstance().getReference(\"Bill\")\r\n        dbRef.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n                for(data in snapshot.children) {\r\n                    if((data.child(\"customer\").value)?.equals(customerEmail) == true &&\r\n                        data.child(\"status\").value?.equals(\"pending\") == true) {\r\n                        key = data.key.toString()\r\n                        Log.i(\"msg3\", key)\r\n                        total = data.child(\"total\").value.toString().toDouble()\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    private fun pushItemToPendingBill(curDish: Dish) {\r\n        val item = PushBillItem(\r\n            amount_text.text.toString().toLong(),\r\n            curDish.id,\r\n            curDish.image,\r\n            curDish.name,\r\n            sizeChosen,\r\n            price_value.text.toString().toDouble()\r\n        )\r\n        val dbPush = FirebaseDatabase.getInstance().getReference(\"Bill/$key/products\")\r\n        dbPush.push().setValue(item)\r\n\r\n        val dbUpdate = FirebaseDatabase.getInstance().getReference(\"Bill/$key\")\r\n        val newTotal = total + price_value.text.toString().toDouble()\r\n        dbUpdate.child(\"total\").setValue(newTotal)\r\n    }\r\n\r\n    private fun createNewBill() {\r\n        val newBill = CreateBillItem(\r\n            customerEmail,\r\n            \"pending\",\r\n            0.0\r\n        )\r\n        val dbCreate = FirebaseDatabase.getInstance().getReference(\"Bill\")\r\n        key = dbCreate.push().key.toString()\r\n        dbCreate.child(key).setValue(newBill)\r\n    }\r\n\r\n    private fun resetButton() {\r\n        image_s_size.setBackgroundResource(R.drawable.rounded_button)\r\n        image_m_size.setBackgroundResource(R.drawable.rounded_button)\r\n        image_l_size.setBackgroundResource(R.drawable.rounded_button)\r\n\r\n        s_size_text.setTextColor(Color.GRAY)\r\n        m_size_text.setTextColor(Color.GRAY)\r\n        l_size_text.setTextColor(Color.GRAY)\r\n\r\n        s_size_text.typeface = Typeface.DEFAULT\r\n        m_size_text.typeface = Typeface.DEFAULT\r\n        l_size_text.typeface = Typeface.DEFAULT\r\n    }\r\n\r\n    private fun displayPrice(curDish: Dish) {\r\n        val df = DecimalFormat(\"##.00\")\r\n        when(sizeChosen) {\r\n            \"S\" -> price_value.text = df.format(curDish.priceS * amount_text.text.toString().toInt())\r\n            \"M\" -> price_value.text = df.format(curDish.priceM * amount_text.text.toString().toInt())\r\n            \"L\" -> price_value.text = df.format(curDish.priceL * amount_text.text.toString().toInt())\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/FoodDetail.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/FoodDetail.kt	(date 1623228888715)
@@ -5,32 +5,31 @@
 import androidx.appcompat.app.AppCompatActivity
 import android.os.Bundle
 import android.util.Log
-import android.view.View
-import android.widget.Toast
+import com.google.firebase.auth.ktx.auth
 import com.google.firebase.database.*
+import com.google.firebase.ktx.Firebase
 import com.squareup.picasso.Picasso
 import kotlinx.android.synthetic.main.activity_food_detail.*
 import java.text.DecimalFormat
-import kotlin.math.roundToInt
 
 class FoodDetail : AppCompatActivity() {
 
-    //customerEmail will be generated automatically when they sign up or log in
-    //when the app complete, customerEmail will be passed from the previous activities
-    private val customerEmail = "khoavo617@gmail"
+    private lateinit var customerEmail: String
 
     private lateinit var priceS: String
     private lateinit var priceM: String
     private lateinit var priceL: String
 
+    private val df = DecimalFormat("##.00")
     private var sizeChosen = "none"
     private var key = "none"
-    private var total = 0.0
+    private var subTotal = 0.0
 
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         setContentView(R.layout.activity_food_detail)
 
+        customerEmail = Firebase.auth.currentUser?.email.toString()
         val curDish = intent.getParcelableExtra<Dish>("curDish")
 
         if(curDish != null) {
@@ -101,11 +100,9 @@
 
         //find the pending bill of this customer
         findPendingBill()
-        Log.i("msg1", key)
 
         addToCart_button.setOnClickListener() {
             if(key != "none") {
-                Log.i("msg2", key)
                 pushItemToPendingBill(curDish!!)
             }
             else {
@@ -120,11 +117,10 @@
         dbRef.addValueEventListener(object : ValueEventListener {
             override fun onDataChange(snapshot: DataSnapshot) {
                 for(data in snapshot.children) {
-                    if((data.child("customer").value)?.equals(customerEmail) == true &&
+                    if((data.child("customerEmail").value)?.equals(customerEmail) == true &&
                         data.child("status").value?.equals("pending") == true) {
                         key = data.key.toString()
-                        Log.i("msg3", key)
-                        total = data.child("total").value.toString().toDouble()
+                        subTotal = data.child("subTotal").value.toString().toDouble()
                         break
                     }
                 }
@@ -138,20 +134,56 @@
     }
 
     private fun pushItemToPendingBill(curDish: Dish) {
-        val item = PushBillItem(
-            amount_text.text.toString().toLong(),
-            curDish.id,
-            curDish.image,
-            curDish.name,
-            sizeChosen,
-            price_value.text.toString().toDouble()
-        )
-        val dbPush = FirebaseDatabase.getInstance().getReference("Bill/$key/products")
-        dbPush.push().setValue(item)
+        var isAdded = false
+        val curSize = sizeChosen
+        val unitPrice = price_value.text.toString().toDouble()
+
+        val dbPush = FirebaseDatabase.getInstance().getReference("Bill/$key/products")
+        dbPush.addListenerForSingleValueEvent(object : ValueEventListener {
+            override fun onDataChange(snapshot: DataSnapshot) {
+                for(data in snapshot.children) {
+                    if(data.child("id").value as String == curDish.id &&
+                       data.child("size").value as String == curSize) {
+                        isAdded = true
+
+                        val curAmount = data.child("amount").value as Long
+
+                        val a: Any = data.child("unitPrice").value as Any
+                        val type = a::class.simpleName
+                        var curPrice = 0.0
+                        if(type == "Long" || type == "Double")
+                            curPrice = a.toString().toDouble()
+
+                        val newAmount = curAmount + 1
+                        val newPrice = curPrice + unitPrice
+
+                        dbPush.child("${data.key}/amount").setValue(newAmount)
+                        dbPush.child("${data.key}/unitPrice").setValue(df.format(newPrice).toDouble())
+                    }
+                }
+
+                if(!isAdded) {
+                    val item = PushBillItem(
+                        amount_text.text.toString().toLong(),
+                        curDish.id,
+                        curDish.image,
+                        curDish.name,
+                        sizeChosen,
+                        price_value.text.toString().toDouble()
+                    )
+                    dbPush.push().setValue(item)
+                }
+            }
+
+            override fun onCancelled(error: DatabaseError) {
+
+            }
+
+        })
 
         val dbUpdate = FirebaseDatabase.getInstance().getReference("Bill/$key")
-        val newTotal = total + price_value.text.toString().toDouble()
-        dbUpdate.child("total").setValue(newTotal)
+        val newTotal = subTotal + unitPrice
+        dbUpdate.child("subTotal").setValue(df.format(newTotal).toDouble())
     }
 
     private fun createNewBill() {
@@ -180,7 +212,6 @@
     }
 
     private fun displayPrice(curDish: Dish) {
-        val df = DecimalFormat("##.00")
         when(sizeChosen) {
             "S" -> price_value.text = df.format(curDish.priceS * amount_text.text.toString().toInt())
             "M" -> price_value.text = df.format(curDish.priceM * amount_text.text.toString().toInt())
Index: app/src/main/java/com/example/orderfoodapp/CartItemAdapter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\n\r\nimport android.content.Intent\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.chauthai.swipereveallayout.ViewBinderHelper\r\nimport com.google.firebase.auth.ktx.auth\r\nimport com.google.firebase.database.FirebaseDatabase\r\nimport com.google.firebase.ktx.Firebase\r\nimport com.squareup.picasso.Picasso\r\nimport kotlinx.android.synthetic.main.cart_item.view.*\r\nimport java.text.DecimalFormat\r\n\r\nclass CartItemAdapter (\r\n    private val cartList: MutableList<CartItem>\r\n): RecyclerView.Adapter<CartItemAdapter.CartItemViewHolder>() {\r\n\r\n    private val viewBinderHelper = ViewBinderHelper()\r\n\r\n    class CartItemViewHolder (itemView: View): RecyclerView.ViewHolder(itemView)\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CartItemViewHolder {\r\n        return CartItemViewHolder(\r\n            LayoutInflater.from(parent.context).inflate(\r\n                R.layout.cart_item,\r\n                parent,\r\n                false\r\n            )\r\n        )\r\n    }\r\n\r\n    fun addCartItem(cartItem: CartItem) {\r\n        cartList.add(cartItem)\r\n        notifyItemInserted(cartList.size - 1)\r\n    }\r\n\r\n    fun deleteCartItem(pos: Int) {\r\n        cartList.removeAt(pos)\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n    fun deleteAll() {\r\n        cartList.clear()\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: CartItemViewHolder, position: Int) {\r\n        val curCartItem = cartList[position]\r\n\r\n        viewBinderHelper.setOpenOnlyOne(true)\r\n        viewBinderHelper.bind(holder.itemView.swipe_layout, curCartItem.toString())\r\n        viewBinderHelper.closeLayout(curCartItem.toString())\r\n\r\n        holder.itemView.apply {\r\n            Picasso.get().load(curCartItem.cartItemImage).into(foodImage_imageView)\r\n            foodName_textView.text = curCartItem.cartItemName\r\n            amount_textView.text = curCartItem.cartItemAmount.toString()\r\n            price_textView.text = curCartItem.cartItemPrice.toString()\r\n\r\n            val unitPrice = curCartItem.cartItemPrice/curCartItem.cartItemAmount\r\n            val df = DecimalFormat(\"##.0\")\r\n\r\n            delete_button.setOnClickListener() {\r\n                deleteCartItem(position)\r\n                note_editText.setText(\"\")\r\n                note_layout.visibility = View.GONE\r\n            }\r\n\r\n            note_button.setOnClickListener() {\r\n                note_layout.visibility = View.VISIBLE\r\n            }\r\n\r\n            increase_button.setOnClickListener() {\r\n                var amount = amount_textView.text.toString().toInt()\r\n                amount++\r\n                amount_textView.text = amount.toString()\r\n                price_textView.text = df.format((amount * unitPrice))\r\n                findKey()\r\n            }\r\n\r\n            decrease_button.setOnClickListener() {\r\n                var amount = amount_textView.text.toString().toInt()\r\n                if(amount > 1) {\r\n                    amount--\r\n                    amount_textView.text = amount.toString()\r\n                    price_textView.text = df.format((amount * unitPrice))\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return cartList.size\r\n    }\r\n\r\n    private fun findKey() {\r\n//        val dbRef = FirebaseDatabase.getInstance().getReference(\"Bill/-MbRSruAkFIk4TmyUzPn\")\r\n//        dbRef.child(\"total\").setValue(69.69)\r\n//        val mAuth = Firebase.auth\r\n//        Log.i(\"msg\", mAuth.currentUser.toString())\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/CartItemAdapter.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/CartItemAdapter.kt	(date 1623231552730)
@@ -1,27 +1,32 @@
 package com.example.orderfoodapp
 
 
-import android.content.Intent
-import android.util.Log
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
 import androidx.recyclerview.widget.RecyclerView
 import com.chauthai.swipereveallayout.ViewBinderHelper
 import com.google.firebase.auth.ktx.auth
-import com.google.firebase.database.FirebaseDatabase
+import com.google.firebase.database.*
 import com.google.firebase.ktx.Firebase
 import com.squareup.picasso.Picasso
 import kotlinx.android.synthetic.main.cart_item.view.*
 import java.text.DecimalFormat
+import kotlin.math.roundToInt
 
 class CartItemAdapter (
     private val cartList: MutableList<CartItem>
 ): RecyclerView.Adapter<CartItemAdapter.CartItemViewHolder>() {
 
     private val viewBinderHelper = ViewBinderHelper()
+    private var currentAction = ""
+    private val df = DecimalFormat("##.##")
+
+    private var key = ""
+    private var keyProduct = ""
+    private lateinit var customerEmail: String
 
-    class CartItemViewHolder (itemView: View): RecyclerView.ViewHolder(itemView)
+    class CartItemViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView)
 
     override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CartItemViewHolder {
         return CartItemViewHolder(
@@ -38,7 +43,7 @@
         notifyItemInserted(cartList.size - 1)
     }
 
-    fun deleteCartItem(pos: Int) {
+    private fun deleteCartItem(pos: Int) {
         cartList.removeAt(pos)
         notifyDataSetChanged()
     }
@@ -55,19 +60,23 @@
         viewBinderHelper.bind(holder.itemView.swipe_layout, curCartItem.toString())
         viewBinderHelper.closeLayout(curCartItem.toString())
 
+        customerEmail = Firebase.auth.currentUser?.email.toString()
+        findCurrentKey()
+
         holder.itemView.apply {
             Picasso.get().load(curCartItem.cartItemImage).into(foodImage_imageView)
             foodName_textView.text = curCartItem.cartItemName
             amount_textView.text = curCartItem.cartItemAmount.toString()
             price_textView.text = curCartItem.cartItemPrice.toString()
 
-            val unitPrice = curCartItem.cartItemPrice/curCartItem.cartItemAmount
-            val df = DecimalFormat("##.0")
+            val unitPrice = curCartItem.cartItemPrice / curCartItem.cartItemAmount
+            val id = curCartItem.cartID
 
             delete_button.setOnClickListener() {
                 deleteCartItem(position)
                 note_editText.setText("")
                 note_layout.visibility = View.GONE
+                deleteItem(curCartItem)
             }
 
             note_button.setOnClickListener() {
@@ -75,19 +84,20 @@
             }
 
             increase_button.setOnClickListener() {
+                currentAction = "+"
                 var amount = amount_textView.text.toString().toInt()
                 amount++
-                amount_textView.text = amount.toString()
-                price_textView.text = df.format((amount * unitPrice))
-                findKey()
+                val newPrice = df.format((amount * unitPrice)).toDouble()
+                findKeyProduct(amount, newPrice, id)
             }
 
             decrease_button.setOnClickListener() {
                 var amount = amount_textView.text.toString().toInt()
-                if(amount > 1) {
+                if (amount > 1) {
+                    currentAction = "-"
                     amount--
-                    amount_textView.text = amount.toString()
-                    price_textView.text = df.format((amount * unitPrice))
+                    val newPrice = df.format((amount * unitPrice)).toDouble()
+                    findKeyProduct(amount, newPrice, id)
                 }
             }
         }
@@ -99,11 +109,114 @@
         return cartList.size
     }
 
-    private fun findKey() {
-//        val dbRef = FirebaseDatabase.getInstance().getReference("Bill/-MbRSruAkFIk4TmyUzPn")
-//        dbRef.child("total").setValue(69.69)
-//        val mAuth = Firebase.auth
-//        Log.i("msg", mAuth.currentUser.toString())
+    private fun findCurrentKey() {
+        val dbRef = FirebaseDatabase.getInstance().getReference("Bill")
+
+        dbRef.addListenerForSingleValueEvent(object : ValueEventListener {
+            override fun onDataChange(snapshot: DataSnapshot) {
+                for (data in snapshot.children) {
+                    if ((data.child("customerEmail").value)?.equals(customerEmail) == true
+                         && data.child("status").value?.equals("pending") == true
+                    ) {
+                        key = data.key.toString()
+                    }
+                }
+            }
+
+            override fun onCancelled(error: DatabaseError) {
+
+            }
+
+        })
+    }
+
+    private fun findKeyProduct(amount: Int, newUnitPrice: Double, id: String) {
+        val dbRef = FirebaseDatabase.getInstance().getReference("Bill/$key/products")
+        dbRef.addListenerForSingleValueEvent(object : ValueEventListener {
+            override fun onDataChange(snapshot: DataSnapshot) {
+                for (data in snapshot.children) {
+                    if ((data.child("id").value as String) == id) {
+                        keyProduct = data.key.toString()
+                        updateProduct(amount, newUnitPrice)
+                        break
+                    }
+                }
+            }
+
+            override fun onCancelled(error: DatabaseError) {
+
+            }
+
+        })
+    }
+
+    private fun updateProduct(amount: Int, newUnitPrice: Double) {
+        val dbRef = FirebaseDatabase.getInstance().getReference("Bill/$key/products/$keyProduct")
+        dbRef.child("amount").setValue(amount)
+        dbRef.child("unitPrice").setValue(newUnitPrice * 1.0)
+        findTotalPrice(amount, newUnitPrice)
+    }
+
+    private fun findTotalPrice(amount: Int, newUnitPrice: Double) {
+        var curTotal = 0.0
+        var newTotal: Double
+        val dbUpdate = FirebaseDatabase.getInstance().getReference("Bill/$key")
+        dbUpdate.child("subTotal").get().addOnSuccessListener {
+            val a: Any = it.value as Any
+            val type = a::class.simpleName
+            if(type == "Long" || type == "Double")
+                curTotal = a.toString().toDouble()
+
+            newTotal =   if(currentAction == "+")
+                ((curTotal + (newUnitPrice / amount).toFloat()) * 100.0).roundToInt() /100.0
+            else
+                ((curTotal - (newUnitPrice / amount).toFloat()) * 100.0).roundToInt() /100.0
+
+            dbUpdate.child("subTotal").setValue(newTotal)
+        }
+    }
+
+    private fun deleteItem(curCart: CartItem) {
+        val dbRef = FirebaseDatabase.getInstance().getReference("Bill/$key/products")
+
+        dbRef.addListenerForSingleValueEvent(object : ValueEventListener {
+            override fun onDataChange(snapshot: DataSnapshot) {
+                for (data in snapshot.children) {
+                    if ((data.child("id").value as String) == curCart.cartID &&
+                        (data.child("size").value as String) == curCart.cartSize) {
+                        var delPrice = 0.0
+
+                        val a: Any = data.child("unitPrice").value as Any
+                        val type = a::class.simpleName
+                        if (type == "Long" || type == "Double")
+                            delPrice = a.toString().toDouble()
+
+                        updateAfterDel(delPrice)
+                        data.ref.removeValue()
+                    }
+                }
+            }
+
+            override fun onCancelled(error: DatabaseError) {
+
+            }
+
+        })
+    }
+
+    private fun updateAfterDel(delPrice: Double) {
+        var curSubTotal = 0.0
+        var newSubTotal: Double
+        val dbUpdate = FirebaseDatabase.getInstance().getReference("Bill/$key")
+        dbUpdate.child("subTotal").get().addOnSuccessListener {
+            val a: Any = it.value as Any
+            val type = a::class.simpleName
+            if (type == "Long" || type == "Double")
+                curSubTotal = a.toString().toDouble()
+
+            newSubTotal = curSubTotal - delPrice
+            dbUpdate.child("subTotal").setValue(newSubTotal)
+        }
     }
 
 }
\ No newline at end of file
Index: app/src/main/java/com/example/orderfoodapp/CartActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport com.google.firebase.database.DataSnapshot\r\nimport com.google.firebase.database.DatabaseError\r\nimport com.google.firebase.database.FirebaseDatabase\r\nimport com.google.firebase.database.ValueEventListener\r\nimport kotlinx.android.synthetic.main.activity_cart.*\r\nimport kotlinx.android.synthetic.main.activity_cart.back_button\r\n\r\nclass CartActivity : AppCompatActivity() {\r\n\r\n    //customerEmail will be generated automatically when they sign up or log in\r\n    //when the app complete, customerEmail will be passed from the previous activities\r\n    private lateinit var customerID: String\r\n\r\n    private lateinit var cartItemAdapter: CartItemAdapter\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_cart)\r\n\r\n        customerID = intent.getStringExtra(\"customerID\").toString()\r\n\r\n        cartItemAdapter = CartItemAdapter(mutableListOf())\r\n        cart_recyclerView.adapter = cartItemAdapter\r\n\r\n        val layoutManager = LinearLayoutManager(this)\r\n        cart_recyclerView.layoutManager = layoutManager\r\n\r\n        findKey()\r\n\r\n        back_button.setOnClickListener() {\r\n            finish()\r\n        }\r\n\r\n        continue_button.setOnClickListener() {\r\n            startActivity(Intent(this, CheckoutActivity::class.java))\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private fun findKey() {\r\n        val dbRef = FirebaseDatabase.getInstance().getReference(\"Bill\")\r\n        dbRef.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n                for(data in snapshot.children) {\r\n                    if((data.child(\"customer\").value)?.equals(customerID) == true &&\r\n                        data.child(\"status\").value?.equals(\"pending\") == true) {\r\n\r\n                        subTotal_textView.text = (data.child(\"total\").value as Double).toString()\r\n                        loadCartData(data.key.toString())\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    private fun loadCartData(key: String) {\r\n        val dbRef = FirebaseDatabase.getInstance().getReference(\"Bill/$key/products\")\r\n        dbRef.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n                cartItemAdapter.deleteAll()\r\n                for(data in snapshot.children) {\r\n                    val item = CartItem(\r\n                        data.child(\"image\").value as String,\r\n                        data.child(\"name\").value as String,\r\n                        data.child(\"amount\").value as Long,\r\n                        data.child(\"unitPrice\").value as Double,\r\n                    )\r\n                    cartItemAdapter.addCartItem(item)\r\n                }\r\n                numItem_textView.text = cartItemAdapter.itemCount.toString()\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/CartActivity.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/CartActivity.kt	(date 1623233429892)
@@ -2,28 +2,30 @@
 
 import android.content.Intent
 import android.os.Bundle
+import android.util.Log
 import androidx.appcompat.app.AppCompatActivity
 import androidx.recyclerview.widget.LinearLayoutManager
+import com.google.firebase.auth.ktx.auth
 import com.google.firebase.database.DataSnapshot
 import com.google.firebase.database.DatabaseError
 import com.google.firebase.database.FirebaseDatabase
 import com.google.firebase.database.ValueEventListener
+import com.google.firebase.ktx.Firebase
 import kotlinx.android.synthetic.main.activity_cart.*
 import kotlinx.android.synthetic.main.activity_cart.back_button
 
 class CartActivity : AppCompatActivity() {
 
-    //customerEmail will be generated automatically when they sign up or log in
-    //when the app complete, customerEmail will be passed from the previous activities
-    private lateinit var customerID: String
+    private lateinit var customerEmail: String
 
     private lateinit var cartItemAdapter: CartItemAdapter
+    private var key = ""
 
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         setContentView(R.layout.activity_cart)
 
-        customerID = intent.getStringExtra("customerID").toString()
+        customerEmail = Firebase.auth.currentUser?.email.toString()
 
         cartItemAdapter = CartItemAdapter(mutableListOf())
         cart_recyclerView.adapter = cartItemAdapter
@@ -38,7 +40,10 @@
         }
 
         continue_button.setOnClickListener() {
-            startActivity(Intent(this, CheckoutActivity::class.java))
+            val intent = Intent(this, CheckoutActivity::class.java)
+            intent.putExtra("key", key)
+            startActivity(intent)
+            finish()
         }
 
     }
@@ -49,11 +54,20 @@
         dbRef.addValueEventListener(object : ValueEventListener {
             override fun onDataChange(snapshot: DataSnapshot) {
                 for(data in snapshot.children) {
-                    if((data.child("customer").value)?.equals(customerID) == true &&
+                    if((data.child("customerEmail").value)?.equals(customerEmail) == true &&
                         data.child("status").value?.equals("pending") == true) {
 
-                        subTotal_textView.text = (data.child("total").value as Double).toString()
-                        loadCartData(data.key.toString())
+                        key = data.key.toString()
+                        Log.i("msg",key)
+
+                        val a: Any = data.child("subTotal").value as Any
+                        val type = a::class.simpleName
+                        var subTotal = 0.0
+                        if(type == "Long" || type == "Double")
+                            subTotal = a.toString().toDouble()
+
+                        subTotal_textView.text = subTotal.toString()
+                        loadCartData()
                     }
                 }
             }
@@ -66,17 +80,25 @@
 
     }
 
-    private fun loadCartData(key: String) {
+    private fun loadCartData() {
         val dbRef = FirebaseDatabase.getInstance().getReference("Bill/$key/products")
         dbRef.addValueEventListener(object : ValueEventListener {
             override fun onDataChange(snapshot: DataSnapshot) {
                 cartItemAdapter.deleteAll()
                 for(data in snapshot.children) {
+                    val a: Any = data.child("unitPrice").value as Any
+                    val type = a::class.simpleName
+                    var price = 0.0
+                    if(type == "Long" || type == "Double")
+                        price = a.toString().toDouble()
+
                     val item = CartItem(
+                        data.child("id").value as String,
+                        data.child("size").value as String,
                         data.child("image").value as String,
                         data.child("name").value as String,
                         data.child("amount").value as Long,
-                        data.child("unitPrice").value as Double,
+                        price,
                     )
                     cartItemAdapter.addCartItem(item)
                 }
@@ -90,4 +112,6 @@
         })
     }
 
-}
\ No newline at end of file
+}
+
+
Index: app/src/main/java/com/example/orderfoodapp/DishAdapter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.core.content.ContextCompat.startActivity\r\nimport androidx.navigation.Navigation\r\nimport androidx.navigation.findNavController\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.squareup.picasso.Picasso\r\nimport kotlinx.android.synthetic.main.dish_item.view.*\r\n\r\nclass DishAdapter (\r\n    private val dishList: MutableList<Dish>\r\n): RecyclerView.Adapter<DishAdapter.DishViewHolder>() {\r\n\r\n    class DishViewHolder (itemView: View): RecyclerView.ViewHolder(itemView)\r\n\r\n    private val foodDetail: FoodDetail = FoodDetail()\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): DishViewHolder {\r\n        return DishViewHolder(\r\n            LayoutInflater.from(parent.context).inflate(\r\n                R.layout.dish_item,\r\n                parent,\r\n                false\r\n            )\r\n        )\r\n    }\r\n\r\n    fun addDish(dish: Dish) {\r\n        dishList.add(dish)\r\n        notifyItemInserted(dishList.size - 1)\r\n    }\r\n\r\n    fun deleteAll() {\r\n        dishList.clear()\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: DishViewHolder, position: Int) {\r\n        val curDish = dishList[position]\r\n        holder.itemView.apply {\r\n            Picasso.get().load(curDish.image).into(dishImage_imageView)\r\n            dishName_textView.text = curDish.name\r\n            dishRating_textView.text = curDish.rated.toString()\r\n            deliveryTime_textView.text = curDish.deliveryTime\r\n\r\n            setOnClickListener { view: View ->\r\n                val intent = Intent(context,FoodDetail::class.java)\r\n                intent.putExtra(\"curDish\", curDish)\r\n                context.startActivities(arrayOf(intent))\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return dishList.size\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/DishAdapter.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/DishAdapter.kt	(date 1623222389539)
@@ -18,8 +18,6 @@
 
     class DishViewHolder (itemView: View): RecyclerView.ViewHolder(itemView)
 
-    private val foodDetail: FoodDetail = FoodDetail()
-
     override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): DishViewHolder {
         return DishViewHolder(
             LayoutInflater.from(parent.context).inflate(
@@ -48,7 +46,7 @@
             dishRating_textView.text = curDish.rated.toString()
             deliveryTime_textView.text = curDish.deliveryTime
 
-            setOnClickListener { view: View ->
+            setOnClickListener {
                 val intent = Intent(context,FoodDetail::class.java)
                 intent.putExtra("curDish", curDish)
                 context.startActivities(arrayOf(intent))
@@ -61,4 +59,5 @@
         return dishList.size
     }
 
+
 }
\ No newline at end of file
Index: app/src/main/res/layout/fragment_filter_pizza.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.recyclerview.widget.RecyclerView\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/pizza_recyclerView\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".fragments.FilterPizzaFragment\">\r\n\r\n</androidx.recyclerview.widget.RecyclerView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_filter_pizza.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/layout/fragment_filter_pizza.xml	(date 1623223395722)
@@ -5,6 +5,6 @@
     android:id="@+id/pizza_recyclerView"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
-    tools:context=".fragments.FilterPizzaFragment">
+    tools:context=".fragments.FilterWesternFragment">
 
 </androidx.recyclerview.widget.RecyclerView>
\ No newline at end of file
Index: app/src/main/java/com/example/orderfoodapp/ProfileActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.widget.TextView\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport com.google.firebase.auth.FirebaseAuth\r\nimport com.google.firebase.auth.ktx.auth\r\nimport com.google.firebase.ktx.Firebase\r\n\r\nclass ProfileActivity : AppCompatActivity() {\r\n    private lateinit var signout_textView: TextView\r\n    private lateinit var profilemail_textView: TextView\r\n\r\n    private lateinit var mAuth: FirebaseAuth\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_profile)\r\n\r\n        mAuth = Firebase.auth\r\n\r\n        profilemail_textView = findViewById(R.id.profile_mail)\r\n//        var i:Intent = intent\r\n//        var bundle : Bundle? =i.extras\r\n//        var email : String? = bundle?.getString(\"email\")\r\n//        profilemail_textView.text = email\r\n\r\n        signout_textView = findViewById(R.id.sign_out_text)\r\n        signout_textView.setOnClickListener(){\r\n            mAuth.signOut()\r\n            startActivity(Intent(this, LoginActivity::class.java))\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/ProfileActivity.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/ProfileActivity.kt	(date 1622971136371)
@@ -2,6 +2,7 @@
 
 import android.content.Intent
 import android.os.Bundle
+import android.util.Log
 import android.widget.TextView
 import androidx.appcompat.app.AppCompatActivity
 import com.google.firebase.auth.FirebaseAuth
Index: app/src/main/java/com/example/orderfoodapp/fragments/FilterPizzaFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp.fragments\r\n\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.recyclerview.widget.GridLayoutManager\r\nimport com.example.orderfoodapp.Dish\r\nimport com.example.orderfoodapp.DishAdapter\r\nimport com.example.orderfoodapp.R\r\nimport com.google.firebase.database.*\r\nimport kotlinx.android.synthetic.main.fragment_filter_all_food.*\r\nimport kotlinx.android.synthetic.main.fragment_filter_all_food.allFood_recyclerView\r\nimport kotlinx.android.synthetic.main.fragment_filter_pizza.*\r\n\r\n\r\nclass FilterPizzaFragment : Fragment() {\r\n\r\n    private lateinit var dishAdapterPizza: DishAdapter\r\n\r\n    private lateinit var database: FirebaseDatabase\r\n    private lateinit var ref: DatabaseReference\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_filter_pizza, container, false)\r\n    }\r\n\r\n    override fun onResume() {\r\n        super.onResume()\r\n\r\n        dishAdapterPizza = DishAdapter(mutableListOf())\r\n        pizza_recyclerView.adapter = dishAdapterPizza\r\n\r\n        val layoutManager = GridLayoutManager(context,2)\r\n        pizza_recyclerView.layoutManager = layoutManager\r\n\r\n        database = FirebaseDatabase.getInstance()\r\n        ref = database.getReference(\"Product\")\r\n\r\n        ref.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n                dishAdapterPizza.deleteAll()\r\n                for(data in snapshot.children) {\r\n                    if((data.child(\"category\").value as String) == \"Pizza\") {\r\n                        val dish = Dish(\r\n                            data.child(\"id\").value as String,\r\n                            data.child(\"image\").value as String,\r\n                            data.child(\"name\").value as String,\r\n                            data.child(\"priceS\").value as Double,\r\n                            data.child(\"priceM\").value as Double,\r\n                            data.child(\"priceL\").value as Double,\r\n                            data.child(\"rated\").value as Double,\r\n                            data.child(\"deliveryTime\").value as String,\r\n                            data.child(\"category\").value as String,\r\n                            data.child(\"description\").value as String,\r\n                            data.child(\"salePercent\").value as Long,\r\n                            data.child(\"amount\").value as Long,\r\n                        )\r\n                        dishAdapterPizza.addDish(dish)\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n\r\n            }\r\n\r\n        })\r\n    }\r\n}
===================================================================
--- app/src/main/java/com/example/orderfoodapp/fragments/FilterPizzaFragment.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/fragments/FilterWesternFragment.kt	(date 1623228033787)
@@ -1,23 +1,31 @@
 package com.example.orderfoodapp.fragments
 
+import android.app.Activity
+import android.content.pm.PackageManager
+import android.location.Address
+import android.location.Geocoder
 import android.os.Bundle
 import androidx.fragment.app.Fragment
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
+import android.widget.Toast
+import androidx.core.app.ActivityCompat
 import androidx.recyclerview.widget.GridLayoutManager
 import com.example.orderfoodapp.Dish
 import com.example.orderfoodapp.DishAdapter
+import com.example.orderfoodapp.EstimateTime
 import com.example.orderfoodapp.R
+import com.google.android.gms.location.FusedLocationProviderClient
+import com.google.android.gms.location.LocationServices
 import com.google.firebase.database.*
-import kotlinx.android.synthetic.main.fragment_filter_all_food.*
-import kotlinx.android.synthetic.main.fragment_filter_all_food.allFood_recyclerView
 import kotlinx.android.synthetic.main.fragment_filter_pizza.*
+import java.util.*
 
 
-class FilterPizzaFragment : Fragment() {
+class FilterWesternFragment : Fragment() {
 
-    private lateinit var dishAdapterPizza: DishAdapter
+    private lateinit var dishAdapterWestern: DishAdapter
 
     private lateinit var database: FirebaseDatabase
     private lateinit var ref: DatabaseReference
@@ -37,8 +45,8 @@
     override fun onResume() {
         super.onResume()
 
-        dishAdapterPizza = DishAdapter(mutableListOf())
-        pizza_recyclerView.adapter = dishAdapterPizza
+        dishAdapterWestern = DishAdapter(mutableListOf())
+        pizza_recyclerView.adapter = dishAdapterWestern
 
         val layoutManager = GridLayoutManager(context,2)
         pizza_recyclerView.layoutManager = layoutManager
@@ -48,9 +56,9 @@
 
         ref.addValueEventListener(object : ValueEventListener {
             override fun onDataChange(snapshot: DataSnapshot) {
-                dishAdapterPizza.deleteAll()
+                dishAdapterWestern.deleteAll()
                 for(data in snapshot.children) {
-                    if((data.child("category").value as String) == "Pizza") {
+                    if((data.child("category").value as String) == "Western") {
                         val dish = Dish(
                             data.child("id").value as String,
                             data.child("image").value as String,
@@ -65,7 +73,7 @@
                             data.child("salePercent").value as Long,
                             data.child("amount").value as Long,
                         )
-                        dishAdapterPizza.addDish(dish)
+                        dishAdapterWestern.addDish(dish)
                     }
                 }
             }
@@ -76,4 +84,5 @@
 
         })
     }
+
 }
\ No newline at end of file
Index: app/src/main/java/com/example/orderfoodapp/fragments/FilterDrinkFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp.fragments\r\n\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.recyclerview.widget.GridLayoutManager\r\nimport com.example.orderfoodapp.Dish\r\nimport com.example.orderfoodapp.DishAdapter\r\nimport com.example.orderfoodapp.R\r\nimport com.google.firebase.database.*\r\nimport kotlinx.android.synthetic.main.fragment_drink.*\r\nimport kotlinx.android.synthetic.main.fragment_filter_all_food.*\r\nimport kotlinx.android.synthetic.main.fragment_filter_all_food.allFood_recyclerView\r\n\r\nclass FilterDrinkFragment : Fragment() {\r\n\r\n    private lateinit var dishAdapterDrink: DishAdapter\r\n\r\n    private lateinit var database: FirebaseDatabase\r\n    private lateinit var ref: DatabaseReference\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_drink, container, false)\r\n    }\r\n\r\n    override fun onResume() {\r\n        super.onResume()\r\n\r\n        dishAdapterDrink = DishAdapter(mutableListOf())\r\n        drink_recyclerView.adapter = dishAdapterDrink\r\n\r\n        val layoutManager = GridLayoutManager(context,2)\r\n        drink_recyclerView.layoutManager = layoutManager\r\n\r\n        database = FirebaseDatabase.getInstance()\r\n        ref = database.getReference(\"Product\")\r\n\r\n        ref.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n                dishAdapterDrink.deleteAll()\r\n                for(data in snapshot.children) {\r\n                    if((data.child(\"category\").value as String) == \"Drinking\") {\r\n                        val dish = Dish(\r\n                            data.child(\"id\").value as String,\r\n                            data.child(\"image\").value as String,\r\n                            data.child(\"name\").value as String,\r\n                            data.child(\"priceS\").value as Double,\r\n                            data.child(\"priceM\").value as Double,\r\n                            data.child(\"priceL\").value as Double,\r\n                            data.child(\"rated\").value as Double,\r\n                            data.child(\"deliveryTime\").value as String,\r\n                            data.child(\"category\").value as String,\r\n                            data.child(\"description\").value as String,\r\n                            data.child(\"salePercent\").value as Long,\r\n                            data.child(\"amount\").value as Long,\r\n                        )\r\n                        dishAdapterDrink.addDish(dish)\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/fragments/FilterDrinkFragment.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/fragments/FilterDrinkFragment.kt	(date 1623228033796)
@@ -1,18 +1,28 @@
 package com.example.orderfoodapp.fragments
 
+import android.app.Activity
+import android.content.pm.PackageManager
+import android.location.Address
+import android.location.Geocoder
 import android.os.Bundle
 import androidx.fragment.app.Fragment
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
+import android.widget.Toast
+import androidx.core.app.ActivityCompat
 import androidx.recyclerview.widget.GridLayoutManager
 import com.example.orderfoodapp.Dish
 import com.example.orderfoodapp.DishAdapter
+import com.example.orderfoodapp.EstimateTime
 import com.example.orderfoodapp.R
+import com.google.android.gms.location.FusedLocationProviderClient
+import com.google.android.gms.location.LocationServices
 import com.google.firebase.database.*
 import kotlinx.android.synthetic.main.fragment_drink.*
 import kotlinx.android.synthetic.main.fragment_filter_all_food.*
 import kotlinx.android.synthetic.main.fragment_filter_all_food.allFood_recyclerView
+import java.util.*
 
 class FilterDrinkFragment : Fragment() {
 
Index: app/src/main/res/layout/fragment_profile.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:gravity=\"center\"\r\n    android:background=\"@color/plain_white\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".MainActivity\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/background\"\r\n        android:layout_width=\"395dp\"\r\n        android:layout_height=\"220dp\"\r\n        android:background=\"@drawable/bg_borderless_bottom_corners\"\r\n        android:orientation=\"vertical\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <ImageView\r\n            android:id=\"@+id/profile_picture\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"128dp\"\r\n            android:layout_marginStart=\"32dp\"\r\n            android:layout_marginLeft=\"32dp\"\r\n            android:layout_marginTop=\"45dp\"\r\n            android:src=\"@drawable/profile_picture\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/profile_name\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginLeft=\"10dp\"\r\n            android:fontFamily=\"@font/poppins_light\"\r\n            android:text=\"George William\"\r\n            android:textColor=\"#05005C\"\r\n            android:textSize=\"25dp\"\r\n            app:layout_constraintBottom_toBottomOf=\"@id/profile_picture\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/profile_picture\"\r\n            app:layout_constraintTop_toTopOf=\"@+id/profile_picture\"\r\n            app:layout_constraintVertical_bias=\"0.133\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/profile_mail\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:text=\"geogrewilliam@gmail.com\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.279\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/profile_picture\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/profile_name\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/constraint_layout_2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        android:backgroundTint=\"@color/plain_white\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/background\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/settings_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginLeft=\"24dp\"\r\n            android:layout_marginTop=\"25dp\"\r\n            android:text=\"Settings\"\r\n            android:textSize=\"25dp\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/imageView4\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/order_history_text\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/about_us_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginLeft=\"24dp\"\r\n            android:layout_marginTop=\"25dp\"\r\n            android:text=\"About us\"\r\n            android:textSize=\"25dp\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/imageView6\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/settings_text\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/sign_out_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginLeft=\"24dp\"\r\n            android:layout_marginTop=\"25dp\"\r\n            android:text=\"Sign out\"\r\n            android:textSize=\"25dp\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/imageView7\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/about_us_text\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/order_history_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginLeft=\"24dp\"\r\n            android:layout_marginTop=\"25dp\"\r\n            android:text=\"Order history\"\r\n            android:textSize=\"25dp\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/imageView3\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/payment_method_text\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/payment_method_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginLeft=\"24dp\"\r\n            android:layout_marginTop=\"25dp\"\r\n            android:text=\"Payment method\"\r\n            android:textSize=\"25dp\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/imageView2\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/profile_text\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/profile_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginLeft=\"24dp\"\r\n            android:layout_marginTop=\"25dp\"\r\n            android:text=\"Profile\"\r\n            android:textSize=\"25dp\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/imageView\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/imageView\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginLeft=\"16dp\"\r\n            android:layout_marginTop=\"24dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:srcCompat=\"@drawable/ic_person\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/imageView2\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginLeft=\"16dp\"\r\n            android:layout_marginTop=\"24dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/imageView\"\r\n            app:srcCompat=\"@drawable/ic_payment\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/imageView3\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginLeft=\"16dp\"\r\n            android:layout_marginTop=\"24dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/imageView2\"\r\n            app:srcCompat=\"@drawable/ic_history\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/imageView4\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginLeft=\"16dp\"\r\n            android:layout_marginTop=\"24dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/imageView3\"\r\n            app:srcCompat=\"@drawable/ic_settings\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/imageView6\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginLeft=\"16dp\"\r\n            android:layout_marginTop=\"24dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/imageView4\"\r\n            app:srcCompat=\"@drawable/ic_groups\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/imageView7\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginLeft=\"16dp\"\r\n            android:layout_marginTop=\"24dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/imageView6\"\r\n            app:srcCompat=\"@drawable/ic_logout\" />\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_profile.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/layout/fragment_profile.xml	(date 1622973557171)
@@ -24,8 +24,7 @@
             android:id="@+id/profile_picture"
             android:layout_width="130dp"
             android:layout_height="128dp"
-            android:layout_marginStart="32dp"
-            android:layout_marginLeft="32dp"
+            android:layout_marginStart="24dp"
             android:layout_marginTop="45dp"
             android:src="@drawable/profile_picture"
             app:layout_constraintStart_toStartOf="parent"
@@ -35,12 +34,12 @@
             android:id="@+id/profile_name"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
-            android:layout_marginStart="10dp"
-            android:layout_marginLeft="10dp"
+            android:layout_marginStart="12dp"
             android:fontFamily="@font/poppins_light"
             android:text="George William"
             android:textColor="#05005C"
             android:textSize="25dp"
+            android:textStyle="bold"
             app:layout_constraintBottom_toBottomOf="@id/profile_picture"
             app:layout_constraintStart_toEndOf="@+id/profile_picture"
             app:layout_constraintTop_toTopOf="@+id/profile_picture"
@@ -80,6 +79,7 @@
             android:layout_marginTop="25dp"
             android:text="Settings"
             android:textSize="25dp"
+            android:textColor="@color/black"
             app:layout_constraintStart_toEndOf="@+id/imageView4"
             app:layout_constraintTop_toBottomOf="@+id/order_history_text" />
 
@@ -92,6 +92,7 @@
             android:layout_marginTop="25dp"
             android:text="About us"
             android:textSize="25dp"
+            android:textColor="@color/black"
             app:layout_constraintStart_toEndOf="@+id/imageView6"
             app:layout_constraintTop_toBottomOf="@+id/settings_text" />
 
@@ -104,6 +105,7 @@
             android:layout_marginTop="25dp"
             android:text="Sign out"
             android:textSize="25dp"
+            android:textColor="@color/black"
             app:layout_constraintStart_toEndOf="@+id/imageView7"
             app:layout_constraintTop_toBottomOf="@+id/about_us_text" />
 
@@ -116,6 +118,7 @@
             android:layout_marginTop="25dp"
             android:text="Order history"
             android:textSize="25dp"
+            android:textColor="@color/black"
             app:layout_constraintStart_toEndOf="@+id/imageView3"
             app:layout_constraintTop_toBottomOf="@+id/payment_method_text" />
 
@@ -128,6 +131,7 @@
             android:layout_marginTop="25dp"
             android:text="Payment method"
             android:textSize="25dp"
+            android:textColor="@color/black"
             app:layout_constraintStart_toEndOf="@+id/imageView2"
             app:layout_constraintTop_toBottomOf="@+id/profile_text" />
 
@@ -138,6 +142,7 @@
             android:layout_marginStart="24dp"
             android:layout_marginLeft="24dp"
             android:layout_marginTop="25dp"
+            android:textColor="@color/black"
             android:text="Profile"
             android:textSize="25dp"
             app:layout_constraintStart_toEndOf="@+id/imageView"
@@ -152,7 +157,8 @@
             android:layout_marginTop="24dp"
             app:layout_constraintStart_toStartOf="parent"
             app:layout_constraintTop_toTopOf="parent"
-            app:srcCompat="@drawable/ic_person" />
+            app:srcCompat="@drawable/ic_person"
+            app:tint="@color/blue" />
 
         <ImageView
             android:id="@+id/imageView2"
@@ -163,7 +169,8 @@
             android:layout_marginTop="24dp"
             app:layout_constraintStart_toStartOf="parent"
             app:layout_constraintTop_toBottomOf="@+id/imageView"
-            app:srcCompat="@drawable/ic_payment" />
+            app:srcCompat="@drawable/ic_payment"
+            app:tint="@color/orange_brown" />
 
         <ImageView
             android:id="@+id/imageView3"
@@ -185,7 +192,8 @@
             android:layout_marginTop="24dp"
             app:layout_constraintStart_toStartOf="parent"
             app:layout_constraintTop_toBottomOf="@+id/imageView3"
-            app:srcCompat="@drawable/ic_settings" />
+            app:srcCompat="@drawable/ic_settings"
+            app:tint="@color/black" />
 
         <ImageView
             android:id="@+id/imageView6"
@@ -196,7 +204,8 @@
             android:layout_marginTop="24dp"
             app:layout_constraintStart_toStartOf="parent"
             app:layout_constraintTop_toBottomOf="@+id/imageView4"
-            app:srcCompat="@drawable/ic_groups" />
+            app:srcCompat="@drawable/ic_groups"
+            app:tint="@color/plain_blue" />
 
         <ImageView
             android:id="@+id/imageView7"
@@ -207,7 +216,8 @@
             android:layout_marginTop="24dp"
             app:layout_constraintStart_toStartOf="parent"
             app:layout_constraintTop_toBottomOf="@+id/imageView6"
-            app:srcCompat="@drawable/ic_logout" />
+            app:srcCompat="@drawable/ic_logout"
+            app:tint="@color/red" />
     </androidx.constraintlayout.widget.ConstraintLayout>
 
 </androidx.constraintlayout.widget.ConstraintLayout>
Index: app/src/main/res/layout/activity_food_detail.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/plain_white\"\r\n    tools:context=\".FoodDetail\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/background\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"250dp\"\r\n        android:orientation=\"vertical\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            app:cardCornerRadius=\"30dp\"\r\n            android:layout_marginTop=\"-25dp\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:backgroundTint=\"@color/orange_main\" >\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\" >\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/food_image\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    android:src=\"@drawable/img_hamburger\"/>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/back_button\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginLeft=\"30dp\"\r\n                    android:layout_marginTop=\"45dp\"\r\n                    android:background=\"@drawable/bg_circle\"\r\n                    android:gravity=\"center\"\r\n                    android:orientation=\"horizontal\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginStart=\"8dp\"\r\n                        android:layout_marginLeft=\"8dp\"\r\n                        app:srcCompat=\"@drawable/ic_arrow_back\" />\r\n\r\n                </LinearLayout>\r\n\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n        </androidx.cardview.widget.CardView>\r\n\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/constraint_layout_2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        android:background=\"@color/plain_white\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/background\"\r\n        app:layout_constraintVertical_bias=\"0.0\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/food_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"25dp\"\r\n            android:layout_marginLeft=\"25dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:fontFamily=\"@font/poppins_light\"\r\n            android:text=\"Beef Hamburger\"\r\n            android:textColor=\"@color/plain_black\"\r\n            android:textSize=\"25dp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/ic_share\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"28dp\"\r\n            android:layout_marginEnd=\"25dp\"\r\n            android:layout_marginRight=\"25dp\"\r\n            android:src=\"@drawable/ic_food_detail_share\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/ic_heart\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"28dp\"\r\n            android:layout_marginEnd=\"15dp\"\r\n            android:layout_marginRight=\"20dp\"\r\n            android:src=\"@drawable/ic_food_detail_heart\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/ic_share\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/ic_star\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"30dp\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:src=\"@drawable/ic_food_detail_star\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/food_text\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/rates_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"8dp\"\r\n            android:layout_marginLeft=\"8dp\"\r\n            android:layout_marginTop=\"7dp\"\r\n            android:fontFamily=\"@font/poppins_light\"\r\n            android:text=\"4.6\"\r\n            android:textColor=\"#373737\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintStart_toEndOf=\"@id/ic_star\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/food_text\" />\r\n\r\n        <ImageView\r\n            android:id=\"@+id/ic_time\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"25dp\"\r\n            android:layout_marginLeft=\"25dp\"\r\n            android:layout_marginTop=\"11dp\"\r\n            android:src=\"@drawable/ic_food_detail_time\"\r\n            app:layout_constraintStart_toEndOf=\"@id/rates_text\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/food_text\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/time_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"8dp\"\r\n            android:layout_marginLeft=\"8dp\"\r\n            android:layout_marginTop=\"7dp\"\r\n            android:text=\"15 mins\"\r\n            app:layout_constraintStart_toEndOf=\"@id/ic_time\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/food_text\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/image_s_size\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:background=\"@drawable/rounded_button\"\r\n            app:layout_constraintStart_toStartOf=\"@id/ic_star\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/ic_star\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/s_size_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"12dp\"\r\n            android:layout_marginLeft=\"12dp\"\r\n            android:layout_marginTop=\"17dp\"\r\n            android:text=\"S\"\r\n            android:textSize=\"20dp\"\r\n            android:textColor=\"@color/gray\"\r\n            app:layout_constraintStart_toStartOf=\"@id/ic_star\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/rates_text\"\r\n            app:layout_goneMarginTop=\"35dp\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/image_m_size\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:background=\"@drawable/rounded_button\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/image_s_size\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/ic_star\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/m_size_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginLeft=\"24dp\"\r\n            android:layout_marginTop=\"23dp\"\r\n            android:text=\"M\"\r\n            android:textSize=\"20dp\"\r\n            android:textColor=\"@color/gray\"\r\n            app:layout_constraintStart_toEndOf=\"@id/image_s_size\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/ic_time\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/image_l_size\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"15dp\"\r\n            android:background=\"@drawable/rounded_button\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/image_m_size\"\r\n            app:layout_constraintTop_toTopOf=\"@id/image_m_size\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/l_size_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"27dp\"\r\n            android:layout_marginLeft=\"27dp\"\r\n            android:text=\"L\"\r\n            android:textSize=\"20dp\"\r\n            android:textColor=\"@color/gray\"\r\n            app:layout_constraintStart_toEndOf=\"@id/image_m_size\"\r\n            app:layout_constraintTop_toTopOf=\"@id/m_size_text\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/image_increase_amount\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginEnd=\"30dp\"\r\n            android:layout_marginRight=\"30dp\"\r\n            android:background=\"@drawable/rounded_button\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"@id/image_l_size\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/increase_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"22dp\"\r\n            android:layout_marginTop=\"46dp\"\r\n            android:text=\"+\"\r\n            android:textSize=\"30dp\"\r\n            android:textColor=\"@color/plain_black\"\r\n            app:layout_constraintStart_toEndOf=\"@id/amount_text\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/ic_share\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/image_decrease_amount\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginEnd=\"40dp\"\r\n            android:layout_marginRight=\"40dp\"\r\n            android:background=\"@drawable/rounded_button\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/image_increase_amount\"\r\n            app:layout_constraintTop_toTopOf=\"@id/image_l_size\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/decrease_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"46dp\"\r\n            android:layout_marginRight=\"26dp\"\r\n            android:text=\"-\"\r\n            android:textSize=\"30dp\"\r\n            android:textColor=\"@color/plain_black\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/amount_text\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/ic_heart\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/amount_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"1\"\r\n            android:textSize=\"26dp\"\r\n            android:textColor=\"@color/plain_black\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/image_increase_amount\"\r\n            app:layout_constraintStart_toEndOf=\"@id/image_decrease_amount\"\r\n            app:layout_constraintTop_toTopOf=\"@id/image_decrease_amount\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/description_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:fontFamily=\"@font/poppins_light\"\r\n            android:singleLine=\"false\"\r\n            android:text=\"Description\"\r\n            android:textSize=\"25dp\"\r\n            android:textColor=\"@color/plain_black\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintStart_toStartOf=\"@id/image_s_size\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/image_s_size\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/description_textView\"\r\n            android:layout_width=\"375dp\"\r\n            android:layout_height=\"150dp\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:text=\"This is a description\"\r\n            android:textSize=\"20dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.486\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/description_text\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=\"@+id/constraint_layout_3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"100dp\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        android:background=\"@drawable/bg_corner_navbottombar\"\r\n        android:backgroundTint=\"@color/white\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/price_value\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"3dp\"\r\n            android:layout_marginLeft=\"3dp\"\r\n            android:text=\"7.68\"\r\n            android:textColor=\"#FF7000\"\r\n            android:textSize=\"25dp\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/textView2\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/price_text\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView2\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginLeft=\"24dp\"\r\n            android:text=\"$\"\r\n            android:textColor=\"#FF7000\"\r\n            android:textSize=\"25dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/price_text\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/price_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginLeft=\"24dp\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:fontFamily=\"@font/poppins_light\"\r\n            android:text=\"Price:\"\r\n            android:textColor=\"#373737\"\r\n            android:textSize=\"25dp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/image_buy_now\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"30dp\"\r\n            android:layout_marginEnd=\"10dp\"\r\n            android:layout_marginRight=\"10dp\"\r\n            android:background=\"@drawable/image_buy_now\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/buyNow_button\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"40dp\"\r\n            android:layout_marginEnd=\"27dp\"\r\n            android:layout_marginRight=\"27dp\"\r\n            android:fontFamily=\"@font/poppins_light\"\r\n            android:text=\"Buy now\"\r\n            android:textColor=\"#FFFFFF\"\r\n            android:textSize=\"18dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/image_add_to_cart\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/image_buy_now\"\r\n            android:layout_marginEnd=\"10dp\"\r\n            android:layout_marginTop=\"30dp\"\r\n            android:layout_marginRight=\"10dp\"\r\n            android:background=\"@drawable/image_add_to_cart\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/addToCart_button\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"40dp\"\r\n            android:layout_marginRight=\"128dp\"\r\n            android:fontFamily=\"@font/poppins_light\"\r\n            android:text=\"Add to cart\"\r\n            android:textColor=\"#FF7A00\"\r\n            android:textSize=\"18dp\"\r\n            app:layout_constraintEnd_toEndOf=\"@id/image_buy_now\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_food_detail.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/layout/activity_food_detail.xml	(date 1623233811417)
@@ -39,7 +39,7 @@
                     android:id="@+id/back_button"
                     android:layout_width="wrap_content"
                     android:layout_height="wrap_content"
-                    android:layout_marginLeft="30dp"
+                    android:layout_marginStart="24dp"
                     android:layout_marginTop="45dp"
                     android:background="@drawable/bg_circle"
                     android:gravity="center"
@@ -119,17 +119,17 @@
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_marginLeft="30dp"
-            android:layout_marginTop="10dp"
-            android:src="@drawable/ic_food_detail_star"
+            android:layout_marginTop="7dp"
             app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@id/food_text" />
+            app:layout_constraintTop_toBottomOf="@id/food_text"
+            app:srcCompat="@drawable/ic_star"
+            app:tint="@color/yellow" />
 
         <TextView
             android:id="@+id/rates_text"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_marginStart="8dp"
-            android:layout_marginLeft="8dp"
             android:layout_marginTop="7dp"
             android:fontFamily="@font/poppins_light"
             android:text="4.6"
@@ -143,18 +143,16 @@
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_marginStart="25dp"
-            android:layout_marginLeft="25dp"
-            android:layout_marginTop="11dp"
-            android:src="@drawable/ic_food_detail_time"
+            android:layout_marginTop="7dp"
             app:layout_constraintStart_toEndOf="@id/rates_text"
-            app:layout_constraintTop_toBottomOf="@id/food_text" />
+            app:layout_constraintTop_toBottomOf="@id/food_text"
+            app:srcCompat="@drawable/ic_clock" />
 
         <TextView
             android:id="@+id/time_text"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_marginStart="8dp"
-            android:layout_marginLeft="8dp"
             android:layout_marginTop="7dp"
             android:text="15 mins"
             app:layout_constraintStart_toEndOf="@id/ic_time"
@@ -174,11 +172,10 @@
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_marginStart="12dp"
-            android:layout_marginLeft="12dp"
-            android:layout_marginTop="17dp"
+            android:layout_marginTop="22dp"
             android:text="S"
-            android:textSize="20dp"
             android:textColor="@color/gray"
+            android:textSize="20dp"
             app:layout_constraintStart_toStartOf="@id/ic_star"
             app:layout_constraintTop_toBottomOf="@id/rates_text"
             app:layout_goneMarginTop="35dp" />
@@ -242,10 +239,10 @@
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
             android:layout_marginLeft="22dp"
-            android:layout_marginTop="46dp"
+            android:layout_marginTop="50dp"
             android:text="+"
+            android:textColor="@color/plain_black"
             android:textSize="30dp"
-            android:textColor="@color/plain_black"
             app:layout_constraintStart_toEndOf="@id/amount_text"
             app:layout_constraintTop_toBottomOf="@id/ic_share" />
 
@@ -263,11 +260,11 @@
             android:id="@+id/decrease_text"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
-            android:layout_marginTop="46dp"
+            android:layout_marginTop="50dp"
             android:layout_marginRight="26dp"
             android:text="-"
+            android:textColor="@color/plain_black"
             android:textSize="30dp"
-            android:textColor="@color/plain_black"
             app:layout_constraintEnd_toStartOf="@id/amount_text"
             app:layout_constraintTop_toBottomOf="@id/ic_heart" />
 
@@ -300,7 +297,9 @@
             android:id="@+id/description_textView"
             android:layout_width="375dp"
             android:layout_height="150dp"
+            android:layout_marginStart="16dp"
             android:layout_marginTop="12dp"
+            android:layout_marginEnd="16dp"
             android:text="This is a description"
             android:textSize="20dp"
             app:layout_constraintEnd_toEndOf="parent"
Index: app/src/main/res/layout/dish_item.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.cardview.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"140dp\"\r\n    android:layout_height=\"180dp\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    app:cardCornerRadius=\"15dp\"\r\n    android:layout_marginLeft=\"30dp\"\r\n    android:layout_marginTop=\"15dp\"\r\n    android:layout_marginBottom=\"15dp\"\r\n    app:cardElevation=\"0dp\"\r\n    android:backgroundTint=\"@color/white\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\" >\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"120dp\"\r\n            app:cardCornerRadius=\"15dp\" >\r\n\r\n            <ImageView\r\n                android:id=\"@+id/dishImage_imageView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:src=\"@drawable/img_hamburger\" />\r\n\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <TextView\r\n            android:id=\"@+id/dishName_textView\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"5dp\"\r\n            android:text=\"Hamburger\"\r\n            android:textSize=\"16dp\"\r\n            android:textStyle=\"bold\"\r\n            android:textColor=\"@color/plain_black\"\r\n            android:gravity=\"center_horizontal\" />\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"horizontal\" >\r\n\r\n            <ImageView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:src=\"@drawable/ic_food_detail_star\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginLeft=\"15dp\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/dishRating_textView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"4.6\"\r\n                android:textSize=\"13dp\"\r\n                android:textStyle=\"bold\"\r\n                android:textColor=\"@color/plain_black\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginLeft=\"5dp\" />\r\n\r\n            <ImageView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                app:srcCompat=\"@drawable/ic_clock\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginLeft=\"15dp\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/deliveryTime_textView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"15 min\"\r\n                android:textSize=\"13dp\"\r\n                android:layout_marginLeft=\"3dp\"\r\n                android:textColor=\"@color/plain_black\"\r\n                android:layout_gravity=\"center\" />\r\n\r\n        </LinearLayout>\r\n\r\n    </LinearLayout>\r\n\r\n</androidx.cardview.widget.CardView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/dish_item.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/layout/dish_item.xml	(date 1623224707456)
@@ -1,10 +1,10 @@
 <?xml version="1.0" encoding="utf-8"?>
 <androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="140dp"
+    android:layout_width="170dp"
     android:layout_height="180dp"
     xmlns:app="http://schemas.android.com/apk/res-auto"
-    app:cardCornerRadius="15dp"
-    android:layout_marginLeft="30dp"
+    app:cardCornerRadius="10dp"
+    android:layout_marginLeft="15dp"
     android:layout_marginTop="15dp"
     android:layout_marginBottom="15dp"
     app:cardElevation="0dp"
@@ -18,7 +18,7 @@
         <androidx.cardview.widget.CardView
             android:layout_width="match_parent"
             android:layout_height="120dp"
-            app:cardCornerRadius="15dp" >
+            app:cardCornerRadius="10dp" >
 
             <ImageView
                 android:id="@+id/dishImage_imageView"
@@ -35,7 +35,7 @@
             android:layout_height="wrap_content"
             android:layout_marginTop="5dp"
             android:text="Hamburger"
-            android:textSize="16dp"
+            android:textSize="18dp"
             android:textStyle="bold"
             android:textColor="@color/plain_black"
             android:gravity="center_horizontal" />
@@ -44,42 +44,58 @@
             android:layout_width="match_parent"
             android:layout_height="match_parent"
             android:orientation="horizontal" >
+
+           <LinearLayout
+               android:layout_width="wrap_content"
+               android:layout_height="match_parent"
+               android:orientation="horizontal">
 
-            <ImageView
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:src="@drawable/ic_food_detail_star"
-                android:layout_gravity="center"
-                android:layout_marginLeft="15dp"/>
+               <ImageView
+                   android:layout_width="wrap_content"
+                   android:layout_height="wrap_content"
+                   app:srcCompat="@drawable/ic_star"
+                   android:layout_gravity="center"
+                   android:layout_marginLeft="12dp"
+                   app:tint="@color/yellow" />
 
-            <TextView
-                android:id="@+id/dishRating_textView"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="4.6"
-                android:textSize="13dp"
-                android:textStyle="bold"
-                android:textColor="@color/plain_black"
-                android:layout_gravity="center"
-                android:layout_marginLeft="5dp" />
+               <TextView
+                   android:id="@+id/dishRating_textView"
+                   android:layout_width="wrap_content"
+                   android:layout_height="wrap_content"
+                   android:text="4.6"
+                   android:textSize="15dp"
+                   android:textStyle="bold"
+                   android:textColor="@color/plain_black"
+                   android:layout_gravity="center"
+                   android:layout_marginLeft="5dp" />
 
-            <ImageView
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                app:srcCompat="@drawable/ic_clock"
-                android:layout_gravity="center"
-                android:layout_marginLeft="15dp"/>
+           </LinearLayout>
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:orientation="horizontal"
+                android:gravity="right">
+
+                <ImageView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    app:srcCompat="@drawable/ic_clock"
+                    android:layout_gravity="center"/>
 
-            <TextView
-                android:id="@+id/deliveryTime_textView"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="15 min"
-                android:textSize="13dp"
-                android:layout_marginLeft="3dp"
-                android:textColor="@color/plain_black"
-                android:layout_gravity="center" />
+                <TextView
+                    android:id="@+id/deliveryTime_textView"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="15 min"
+                    android:textSize="15dp"
+                    android:textColor="@color/plain_black"
+                    android:layout_marginRight="13dp"
+                    android:layout_marginLeft="3dp"
+                    android:layout_gravity="center" />
 
+            </LinearLayout>
+
         </LinearLayout>
 
     </LinearLayout>
Index: app/src/main/res/layout/fragment_main_menu.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/plain_white\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".MainActivity\">\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"130dp\"\r\n                android:background=\"@drawable/bg_login\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:layout_width=\"80dp\"\r\n                    android:layout_height=\"80dp\"\r\n                    android:layout_margin=\"15sp\"\r\n                    android:src=\"@drawable/img_location\" />\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"20sp\"\r\n                        android:text=\"@string/current_location\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:textSize=\"25dp\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/location_textView\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"242 ST Marks Eve, Finland\"\r\n                        android:textSize=\"15dp\" />\r\n\r\n\r\n                </LinearLayout>\r\n\r\n                <ImageView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"20dp\"\r\n                    app:srcCompat=\"@drawable/ic_double_arrow\"\r\n                    app:tint=\"@color/black\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/notify_button\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginLeft=\"30dp\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    app:srcCompat=\"@drawable/ic_bell\"\r\n                    app:tint=\"@color/black\" />\r\n\r\n            </LinearLayout>\r\n\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\" >\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"30dp\"\r\n                    android:layout_marginLeft=\"20dp\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    android:layout_marginEnd=\"20dp\"\r\n                    android:layout_marginRight=\"30dp\"\r\n                    android:background=\"@drawable/bg_borderless_edit_text\"\r\n                    android:orientation=\"horizontal\" >\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/search_editText\"\r\n                        android:layout_width=\"250dp\"\r\n                        android:layout_height=\"40dp\"\r\n                        android:singleLine=\"true\"\r\n                        android:background=\"@drawable/bg_borderless_edit_text\"\r\n                        android:drawablePadding=\"5dp\"\r\n                        android:hint=\"@string/find_your_taste\"\r\n                        android:paddingStart=\"10dp\"\r\n                        android:paddingEnd=\"10dp\" />\r\n\r\n                    <ImageButton\r\n                        android:id=\"@+id/search_button\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        app:srcCompat=\"@drawable/ic_search\"\r\n                        android:backgroundTint=\"@color/white\"/>\r\n\r\n                </LinearLayout>\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/filter_button\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"32dp\"\r\n                    app:srcCompat=\"@drawable/ic_filter\" />\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/filter_layout\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\" >\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginLeft=\"15dp\"\r\n                    android:orientation=\"vertical\"\r\n                    android:gravity=\"center\">\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/allFood_button\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_marginTop=\"20sp\"\r\n                        android:layout_marginRight=\"20sp\"\r\n                        android:layout_marginLeft=\"20sp\"\r\n                        android:layout_marginBottom=\"10sp\"\r\n                        android:gravity=\"center\"\r\n                        android:background=\"@drawable/bg_borderless_edit_text\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/allFood_icon\"\r\n                            android:layout_margin=\"20sp\"\r\n                            android:layout_width=\"30dp\"\r\n                            android:layout_height=\"30dp\"\r\n                            app:srcCompat=\"@drawable/ic_all_food\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/allFood_textView\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:fontFamily=\"sans-serif-black\"\r\n                        android:text=\"All\"\r\n                        android:textSize=\"16sp\"/>\r\n\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:gravity=\"center\" >\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/pizza_button\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_marginTop=\"20sp\"\r\n                        android:layout_marginBottom=\"10sp\"\r\n                        android:gravity=\"center\"\r\n                        android:background=\"@drawable/bg_borderless_edit_text\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/pizza_icon\"\r\n                            android:layout_width=\"30dp\"\r\n                            android:layout_height=\"30dp\"\r\n                            android:layout_margin=\"20sp\"\r\n                            app:srcCompat=\"@drawable/ic_pizza\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/pizza_textView\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:fontFamily=\"sans-serif-black\"\r\n                        android:text=\"Pizza\"\r\n                        android:textSize=\"16sp\"/>\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:gravity=\"center\" >\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/beverages_button\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_marginTop=\"20sp\"\r\n                        android:layout_marginRight=\"20sp\"\r\n                        android:layout_marginLeft=\"20sp\"\r\n                        android:layout_marginBottom=\"10sp\"\r\n                        android:gravity=\"center\"\r\n                        android:background=\"@drawable/bg_borderless_edit_text\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/beverages_icon\"\r\n                            android:layout_width=\"30dp\"\r\n                            android:layout_height=\"30dp\"\r\n                            android:layout_margin=\"20sp\"\r\n                            app:srcCompat=\"@drawable/ic_drink\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/beverages_textView\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:fontFamily=\"sans-serif-black\"\r\n                        android:text=\"Beverages\"\r\n                        android:textSize=\"16sp\"/>\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:gravity=\"center\" >\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/asianFood_button\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"vertical\"\r\n                        android:layout_marginTop=\"20sp\"\r\n                        android:layout_marginBottom=\"10sp\"\r\n                        android:gravity=\"center\"\r\n                        android:background=\"@drawable/bg_borderless_edit_text\">\r\n\r\n                        <ImageView\r\n                            android:id=\"@+id/asianFood_icon\"\r\n                            android:layout_width=\"30dp\"\r\n                            android:layout_height=\"30dp\"\r\n                            android:layout_margin=\"20sp\"\r\n                            app:srcCompat=\"@drawable/ic_rice_bowl\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/asianFood_textView\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:fontFamily=\"sans-serif-black\"\r\n                        android:text=\"Asia\"\r\n                        android:textSize=\"16sp\"/>\r\n\r\n                </LinearLayout>\r\n\r\n            </LinearLayout>\r\n\r\n            <FrameLayout\r\n                android:id=\"@+id/filter_container\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\" >\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/filter_container_inside\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\" >\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Nearest Restaurants\"\r\n                        android:textSize=\"20dp\"\r\n                        android:textStyle=\"bold\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:layout_marginLeft=\"20dp\"\r\n                        android:layout_marginTop=\"20dp\"/>\r\n\r\n                    <androidx.recyclerview.widget.RecyclerView\r\n                        android:id=\"@+id/nearestRestaurants_recyclerView\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\"/>\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Trending now\"\r\n                        android:textSize=\"20dp\"\r\n                        android:textStyle=\"bold\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:layout_marginLeft=\"20dp\"/>\r\n\r\n                    <androidx.recyclerview.widget.RecyclerView\r\n                        android:id=\"@+id/trendingNow_recyclerView\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\"/>\r\n\r\n                </LinearLayout>\r\n\r\n            </FrameLayout>\r\n\r\n\r\n        </LinearLayout>\r\n\r\n    </androidx.core.widget.NestedScrollView>\r\n\r\n</androidx.coordinatorlayout.widget.CoordinatorLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_main_menu.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/layout/fragment_main_menu.xml	(date 1623223395729)
@@ -32,7 +32,7 @@
 
                 <LinearLayout
                     android:layout_width="wrap_content"
-                    android:layout_height="wrap_content"
+                    android:layout_height="90dp"
                     android:orientation="vertical">
 
                     <TextView
@@ -41,22 +41,25 @@
                         android:layout_marginTop="20sp"
                         android:text="@string/current_location"
                         android:textColor="@color/black"
-                        android:textSize="25dp" />
+                        android:textSize="28dp" />
 
                     <TextView
                         android:id="@+id/location_textView"
-                        android:layout_width="wrap_content"
-                        android:layout_height="wrap_content"
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent"
+                        android:singleLine="true"
                         android:text="242 ST Marks Eve, Finland"
-                        android:textSize="15dp" />
+                        android:textSize="14dp" />
 
 
                 </LinearLayout>
 
                 <ImageView
+                    android:id="@+id/location_button"
                     android:layout_width="wrap_content"
                     android:layout_height="wrap_content"
-                    android:layout_marginTop="20dp"
+                    android:layout_marginTop="22dp"
+                    android:layout_marginLeft="5dp"
                     app:srcCompat="@drawable/ic_double_arrow"
                     app:tint="@color/black" />
 
@@ -64,7 +67,7 @@
                     android:id="@+id/notify_button"
                     android:layout_width="wrap_content"
                     android:layout_height="wrap_content"
-                    android:layout_marginLeft="30dp"
+                    android:layout_marginLeft="10dp"
                     android:layout_marginTop="30dp"
                     app:srcCompat="@drawable/ic_bell"
                     app:tint="@color/black" />
@@ -183,7 +186,7 @@
                             android:layout_width="30dp"
                             android:layout_height="30dp"
                             android:layout_margin="20sp"
-                            app:srcCompat="@drawable/ic_pizza" />
+                            app:srcCompat="@drawable/ic_fast_food" />
 
                     </LinearLayout>
 
@@ -192,7 +195,7 @@
                         android:layout_width="wrap_content"
                         android:layout_height="match_parent"
                         android:fontFamily="sans-serif-black"
-                        android:text="Pizza"
+                        android:text="Western"
                         android:textSize="16sp"/>
 
                 </LinearLayout>
@@ -255,17 +258,17 @@
                             android:layout_width="30dp"
                             android:layout_height="30dp"
                             android:layout_margin="20sp"
-                            app:srcCompat="@drawable/ic_rice_bowl" />
+                            app:srcCompat="@drawable/ic_ramen" />
 
                     </LinearLayout>
 
                     <TextView
                         android:id="@+id/asianFood_textView"
                         android:layout_width="wrap_content"
-                        android:layout_height="match_parent"
+                        android:layout_height="wrap_content"
                         android:fontFamily="sans-serif-black"
-                        android:text="Asia"
-                        android:textSize="16sp"/>
+                        android:text="Asian"
+                        android:textSize="16sp" />
 
                 </LinearLayout>
 
Index: app/src/main/java/com/example/orderfoodapp/fragments/FilterAsianFoodFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp.fragments\r\n\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.recyclerview.widget.GridLayoutManager\r\nimport com.example.orderfoodapp.Dish\r\nimport com.example.orderfoodapp.DishAdapter\r\nimport com.example.orderfoodapp.R\r\nimport com.google.firebase.database.*\r\nimport kotlinx.android.synthetic.main.fragment_filter_all_food.*\r\nimport kotlinx.android.synthetic.main.fragment_filter_all_food.allFood_recyclerView\r\nimport kotlinx.android.synthetic.main.fragment_filter_asia.*\r\n\r\nclass FilterAsianFoodFragment : Fragment() {\r\n\r\n    private lateinit var dishAdapterAsianFood: DishAdapter\r\n\r\n    private lateinit var database: FirebaseDatabase\r\n    private lateinit var ref: DatabaseReference\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_filter_asia, container, false)\r\n    }\r\n\r\n    override fun onResume() {\r\n        super.onResume()\r\n\r\n        dishAdapterAsianFood = DishAdapter(mutableListOf())\r\n        asianFood_recyclerView.adapter = dishAdapterAsianFood\r\n\r\n        val layoutManager = GridLayoutManager(context,2)\r\n        asianFood_recyclerView.layoutManager = layoutManager\r\n\r\n        database = FirebaseDatabase.getInstance()\r\n        ref = database.getReference(\"Product\")\r\n        ref.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n                dishAdapterAsianFood.deleteAll()\r\n                for(data in snapshot.children) {\r\n                    if((data.child(\"category\").value as String) == \"Asian\") {\r\n                        val dish = Dish(\r\n                            data.child(\"id\").value as String,\r\n                            data.child(\"image\").value as String,\r\n                            data.child(\"name\").value as String,\r\n                            data.child(\"priceS\").value as Double,\r\n                            data.child(\"priceM\").value as Double,\r\n                            data.child(\"priceL\").value as Double,\r\n                            data.child(\"rated\").value as Double,\r\n                            data.child(\"deliveryTime\").value as String,\r\n                            data.child(\"category\").value as String,\r\n                            data.child(\"description\").value as String,\r\n                            data.child(\"salePercent\").value as Long,\r\n                            data.child(\"amount\").value as Long,\r\n                        )\r\n                        dishAdapterAsianFood.addDish(dish)\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/fragments/FilterAsianFoodFragment.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/fragments/FilterAsianFoodFragment.kt	(date 1623228033791)
@@ -1,18 +1,28 @@
 package com.example.orderfoodapp.fragments
 
+import android.app.Activity
+import android.content.pm.PackageManager
+import android.location.Address
+import android.location.Geocoder
 import android.os.Bundle
 import androidx.fragment.app.Fragment
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
+import android.widget.Toast
+import androidx.core.app.ActivityCompat
 import androidx.recyclerview.widget.GridLayoutManager
 import com.example.orderfoodapp.Dish
 import com.example.orderfoodapp.DishAdapter
+import com.example.orderfoodapp.EstimateTime
 import com.example.orderfoodapp.R
+import com.google.android.gms.location.FusedLocationProviderClient
+import com.google.android.gms.location.LocationServices
 import com.google.firebase.database.*
 import kotlinx.android.synthetic.main.fragment_filter_all_food.*
 import kotlinx.android.synthetic.main.fragment_filter_all_food.allFood_recyclerView
 import kotlinx.android.synthetic.main.fragment_filter_asia.*
+import java.util.*
 
 class FilterAsianFoodFragment : Fragment() {
 
Index: app/src/main/res/values/colors.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <color name=\"purple_200\">#FFBB86FC</color>\r\n    <color name=\"purple_500\">#FF6200EE</color>\r\n    <color name=\"purple_700\">#FF3700B3</color>\r\n    <color name=\"teal_200\">#FF03DAC5</color>\r\n    <color name=\"teal_700\">#FF018786</color>\r\n    <color name=\"black\">#FF000000</color>\r\n    <color name=\"plain_black\">#373737</color>\r\n    <color name=\"white\">#FFFFFFFF</color>\r\n    <color name=\"plain_white\">#F0F0F0</color>\r\n    <color name=\"orange_main\">#FF8526</color>\r\n    <color name=\"strong_orange\">#FF7000</color>\r\n    <color name=\"gray\">#838383</color>\r\n    <color name=\"plain_gray\">#F2F2F2</color>\r\n    <color name=\"yellow\">#E7A600</color>\r\n    <color name=\"orange_brown\">#A04600</color>\r\n    <color name=\"edt_edit_profile\">#05005C</color>\r\n    <color name=\"blue\">#002481</color>\r\n    <color name=\"plain_blue\">#566793</color>\r\n    <color name=\"red\">#DE0000</color>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/colors.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/values/colors.xml	(date 1623224707460)
@@ -13,7 +13,7 @@
     <color name="strong_orange">#FF7000</color>
     <color name="gray">#838383</color>
     <color name="plain_gray">#F2F2F2</color>
-    <color name="yellow">#E7A600</color>
+    <color name="yellow">#FFC123</color>
     <color name="orange_brown">#A04600</color>
     <color name="edt_edit_profile">#05005C</color>
     <color name="blue">#002481</color>
Index: app/src/main/res/drawable/ic_clock.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><vector android:height=\"15dp\" android:tint=\"?attr/colorControlNormal\"\r\n    android:viewportHeight=\"24\" android:viewportWidth=\"24\"\r\n    android:width=\"15dp\" xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n    <path android:fillColor=\"@android:color/white\" android:pathData=\"M11.99,2C6.47,2 2,6.48 2,12s4.47,10 9.99,10C17.52,22 22,17.52 22,12S17.52,2 11.99,2zM12,20c-4.42,0 -8,-3.58 -8,-8s3.58,-8 8,-8 8,3.58 8,8 -3.58,8 -8,8z\"/>\r\n    <path android:fillColor=\"@android:color/white\" android:pathData=\"M12.5,7H11v6l5.25,3.15 0.75,-1.23 -4.5,-2.67z\"/>\r\n</vector>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/ic_clock.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/drawable/ic_clock.xml	(date 1623224578546)
@@ -1,6 +1,6 @@
-<vector android:height="15dp" android:tint="?attr/colorControlNormal"
+<vector android:height="20dp" android:tint="?attr/colorControlNormal"
     android:viewportHeight="24" android:viewportWidth="24"
-    android:width="15dp" xmlns:android="http://schemas.android.com/apk/res/android">
+    android:width="20dp" xmlns:android="http://schemas.android.com/apk/res/android">
     <path android:fillColor="@android:color/white" android:pathData="M11.99,2C6.47,2 2,6.48 2,12s4.47,10 9.99,10C17.52,22 22,17.52 22,12S17.52,2 11.99,2zM12,20c-4.42,0 -8,-3.58 -8,-8s3.58,-8 8,-8 8,3.58 8,8 -3.58,8 -8,8z"/>
     <path android:fillColor="@android:color/white" android:pathData="M12.5,7H11v6l5.25,3.15 0.75,-1.23 -4.5,-2.67z"/>
 </vector>
Index: app/src/main/res/layout/cart_item.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<com.chauthai.swipereveallayout.SwipeRevealLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/swipe_layout\"\r\n    app:dragEdge=\"right\"\r\n    app:mode=\"same_level\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"90dp\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\" >\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/delete_button\"\r\n            android:layout_width=\"60dp\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:layout_marginLeft=\"5dp\"\r\n            android:layout_marginRight=\"10dp\"\r\n            app:cardUseCompatPadding=\"true\"\r\n            app:cardElevation=\"4dp\"\r\n            android:backgroundTint=\"@color/white\"\r\n            app:cardCornerRadius=\"12dp\" >\r\n\r\n            <ImageView\r\n                android:layout_width=\"25dp\"\r\n                android:layout_height=\"25dp\"\r\n                android:layout_gravity=\"center\"\r\n                app:srcCompat=\"@drawable/ic_delete\"\r\n                app:tint=\"@color/red\" />\r\n\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/note_button\"\r\n            android:layout_width=\"60dp\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginLeft=\"5dp\"\r\n            android:layout_marginRight=\"10dp\"\r\n            app:cardUseCompatPadding=\"true\"\r\n            app:cardElevation=\"4dp\"\r\n            android:backgroundTint=\"@color/white\"\r\n            app:cardCornerRadius=\"12dp\" >\r\n\r\n            <ImageView\r\n                android:layout_width=\"25dp\"\r\n                android:layout_height=\"25dp\"\r\n                android:layout_gravity=\"center\"\r\n                app:srcCompat=\"@drawable/ic_edit\"\r\n                app:tint=\"@color/blue\"/>\r\n\r\n        </androidx.cardview.widget.CardView>\r\n\r\n    </LinearLayout>\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginLeft=\"10dp\"\r\n            android:layout_marginRight=\"10dp\"\r\n            app:cardUseCompatPadding=\"true\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"15dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"375dp\"\r\n                    android:layout_height=\"125dp\" >\r\n\r\n                    <androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\">\r\n\r\n                        <androidx.cardview.widget.CardView\r\n                            android:id=\"@+id/cardView\"\r\n                            android:layout_width=\"100dp\"\r\n                            android:layout_height=\"100dp\"\r\n                            android:layout_marginStart=\"12dp\"\r\n                            android:layout_marginLeft=\"16dp\"\r\n                            android:layout_marginTop=\"10dp\"\r\n                            app:cardCornerRadius=\"20dp\"\r\n                            app:layout_constraintStart_toStartOf=\"parent\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                            <ImageView\r\n                                android:id=\"@+id/foodImage_imageView\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:scaleType=\"centerCrop\"\r\n                                android:src=\"@drawable/img_hamburger\" />\r\n\r\n                        </androidx.cardview.widget.CardView>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/foodName_textView\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginStart=\"24dp\"\r\n                            android:layout_marginLeft=\"24dp\"\r\n                            android:layout_marginTop=\"24dp\"\r\n                            android:text=\"Hamburger\"\r\n                            android:textSize=\"20dp\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textColor=\"@color/plain_black\"\r\n                            app:layout_constraintStart_toEndOf=\"@+id/cardView\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                        <androidx.cardview.widget.CardView\r\n                            android:id=\"@+id/cardView2\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginStart=\"24dp\"\r\n                            android:layout_marginLeft=\"24dp\"\r\n                            android:layout_marginTop=\"65dp\"\r\n                            app:cardBackgroundColor=\"#F8F8FA\"\r\n                            app:cardCornerRadius=\"12dp\"\r\n                            app:layout_constraintStart_toEndOf=\"@+id/cardView\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                            <LinearLayout\r\n                                android:layout_width=\"match_parent\"\r\n                                android:layout_height=\"match_parent\"\r\n                                android:gravity=\"center\"\r\n                                android:orientation=\"horizontal\">\r\n\r\n                                <TextView\r\n                                    android:id=\"@+id/decrease_button\"\r\n                                    android:layout_width=\"30dp\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:gravity=\"center_horizontal\"\r\n                                    android:text=\"-\"\r\n                                    android:textAlignment=\"center\"\r\n                                    android:textSize=\"30dp\" />\r\n\r\n                                <TextView\r\n                                    android:id=\"@+id/amount_textView\"\r\n                                    android:layout_width=\"30dp\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:gravity=\"center_horizontal\"\r\n                                    android:text=\"1\"\r\n                                    android:textAlignment=\"center\"\r\n                                    android:textColor=\"@color/black\"\r\n                                    android:textSize=\"20dp\"\r\n                                    android:textStyle=\"bold\" />\r\n\r\n                                <TextView\r\n                                    android:id=\"@+id/increase_button\"\r\n                                    android:layout_width=\"30dp\"\r\n                                    android:layout_height=\"wrap_content\"\r\n                                    android:gravity=\"center_horizontal\"\r\n                                    android:text=\"+\"\r\n                                    android:textSize=\"30dp\" />\r\n\r\n                            </LinearLayout>\r\n\r\n                        </androidx.cardview.widget.CardView>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/price_textView\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginTop=\"84dp\"\r\n                            android:layout_marginEnd=\"30dp\"\r\n                            android:layout_marginRight=\"24dp\"\r\n                            android:text=\"7.68\"\r\n                            android:textSize=\"25dp\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textColor=\"@color/plain_black\"\r\n                            app:layout_constraintEnd_toEndOf=\"parent\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/textView\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginTop=\"84dp\"\r\n                            android:layout_marginEnd=\"2dp\"\r\n                            android:layout_marginRight=\"2dp\"\r\n                            android:text=\"$\"\r\n                            android:textColor=\"@color/plain_black\"\r\n                            android:textSize=\"25dp\"\r\n                            android:textStyle=\"bold\"\r\n                            app:layout_constraintEnd_toStartOf=\"@+id/price_textView\"\r\n                            app:layout_constraintHorizontal_bias=\"1.0\"\r\n                            app:layout_constraintStart_toEndOf=\"@+id/cardView2\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:visibility=\"gone\"\r\n                    android:id=\"@+id/note_layout\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"35dp\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:background=\"#E9E9E9\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginLeft=\"20dp\"\r\n                        android:layout_marginTop=\"6dp\"\r\n                        android:layout_marginRight=\"5dp\"\r\n                        android:textColor=\"@color/blue\"\r\n                        android:text=\"Note: \"\r\n                        android:textSize=\"18dp\"\r\n                        android:textStyle=\"italic\" />\r\n\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/note_editText\"\r\n                        android:layout_width=\"230dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"6dp\"\r\n                        android:singleLine=\"true\"\r\n                        android:textColor=\"@color/blue\"\r\n                        android:textColorHint=\"@color/plain_blue\"\r\n                        android:background=\"@drawable/bg_note_cart_item\"\r\n                        android:hint=\"note something... \"\r\n                        android:textSize=\"18dp\"\r\n                        android:textStyle=\"italic\" />\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\"\r\n                        android:gravity=\"end\">\r\n\r\n                        <ImageView\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:layout_marginTop=\"8dp\"\r\n                            android:layout_marginRight=\"25dp\"\r\n                            app:srcCompat=\"@drawable/ic_edit\"\r\n                            app:tint=\"@color/blue\" />\r\n\r\n                    </LinearLayout>\r\n\r\n                </LinearLayout>\r\n\r\n            </LinearLayout>\r\n\r\n        </androidx.cardview.widget.CardView>\r\n\r\n    </LinearLayout>\r\n\r\n</com.chauthai.swipereveallayout.SwipeRevealLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/cart_item.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/layout/cart_item.xml	(date 1623049840610)
@@ -84,7 +84,7 @@
 
                         <androidx.cardview.widget.CardView
                             android:id="@+id/cardView"
-                            android:layout_width="100dp"
+                            android:layout_width="120dp"
                             android:layout_height="100dp"
                             android:layout_marginStart="12dp"
                             android:layout_marginLeft="16dp"
Index: app/src/main/java/com/example/orderfoodapp/CreateBillItem.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\nclass CreateBillItem(\r\n    var customer: String,\r\n    var status: String,\r\n    var total: Double\r\n) {\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/CreateBillItem.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/CreateBillItem.kt	(date 1623233606768)
@@ -1,8 +1,8 @@
 package com.example.orderfoodapp
 
 class CreateBillItem(
-    var customer: String,
+    var customerEmail: String,
     var status: String,
-    var total: Double
+    var subTotal: Double
 ) {
 }
\ No newline at end of file
Index: app/src/main/res/values/dimens.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <!-- Default screen margins, per the Android Design guidelines. -->\r\n    <dimen name=\"activity_horizontal_margin\">16dp</dimen>\r\n    <dimen name=\"activity_vertical_margin\">16dp</dimen>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/dimens.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/res/values/dimens.xml	(date 1623057818585)
@@ -2,4 +2,5 @@
     <!-- Default screen margins, per the Android Design guidelines. -->
     <dimen name="activity_horizontal_margin">16dp</dimen>
     <dimen name="activity_vertical_margin">16dp</dimen>
+    <dimen name="default_corner_radius">20</dimen>
 </resources>
\ No newline at end of file
Index: app/src/main/java/com/example/orderfoodapp/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\nimport android.app.Activity\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.fragment.app.Fragment\r\nimport com.example.orderfoodapp.fragments.FavouriteFragment\r\nimport com.example.orderfoodapp.fragments.MainMenuFragment\r\nimport com.example.orderfoodapp.fragments.MenuFragment\r\nimport com.example.orderfoodapp.fragments.ProfileFragment\r\nimport com.google.firebase.auth.FirebaseAuth\r\nimport com.google.firebase.auth.ktx.auth\r\nimport com.google.firebase.ktx.Firebase\r\nimport kotlinx.android.synthetic.main.activity_main_menu.*\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    private lateinit var mAuth: FirebaseAuth\r\n\r\n    private val mainMemuFragment = MainMenuFragment()\r\n    private val profileFragment = ProfileFragment()\r\n    private val menuFragment = MenuFragment()\r\n    private val favouriteFragment = FavouriteFragment()\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main_menu)\r\n\r\n        //this lines of code should be in MainMenuActivity, but for saving time, i place them here, will replace soon\r\n        //if you need to use this MainActivity, just comment out this code\r\n        //this code is for switching between tabs of bottom navigation bar, NOT do functional task\r\n        replaceFragment(mainMemuFragment)\r\n\r\n        bottom_app_bar.setOnNavigationItemSelectedListener {\r\n            when(it.itemId) {\r\n                R.id.navbottombar_profile -> {\r\n                    replaceFragment(profileFragment)\r\n                    shoppingCart_button.visibility = View.GONE\r\n                }\r\n                R.id.navbottombar_home -> {\r\n                    replaceFragment(mainMemuFragment)\r\n                    shoppingCart_button.visibility = View.VISIBLE\r\n                }\r\n                R.id.navbottombar_favourite -> {\r\n                    replaceFragment(favouriteFragment)\r\n                    shoppingCart_button.visibility = View.VISIBLE\r\n                }\r\n                R.id.navbottombar_menu -> {\r\n                    replaceFragment(menuFragment)\r\n                    shoppingCart_button.visibility = View.VISIBLE\r\n                }\r\n            }\r\n            true\r\n        }\r\n\r\n        shoppingCart_button.setOnClickListener() {\r\n            val intent = Intent(Intent(this, CartActivity::class.java))\r\n            intent.putExtra(\"customerID\", \"khoavo617@gmail\")\r\n            startActivity(intent)\r\n        }\r\n    }\r\n\r\n//    override fun onStart() {\r\n//        super.onStart()\r\n//        mAuth = Firebase.auth\r\n//        val user = mAuth.currentUser\r\n//        if(user == null){\r\n//            startActivity(Intent(this, LoginActivity::class.java))\r\n//        }\r\n//        else\r\n//        {\r\n//            startActivity(Intent(this, ProfileActivity::class.java))\r\n//        }\r\n//    }\r\n\r\n    //this function use for switching between tabs of bottom navigation bar, belong to MainMenuActivity\r\n    private fun replaceFragment(fragment: Fragment) {\r\n        val transaction = supportFragmentManager.beginTransaction()\r\n        transaction.replace(R.id.fragment_container, fragment)\r\n        transaction.commit()\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/MainActivity.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/MainActivity.kt	(date 1622972007756)
@@ -18,66 +18,25 @@
 class MainActivity : AppCompatActivity() {
     private lateinit var mAuth: FirebaseAuth
 
-    private val mainMemuFragment = MainMenuFragment()
-    private val profileFragment = ProfileFragment()
-    private val menuFragment = MenuFragment()
-    private val favouriteFragment = FavouriteFragment()
-
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
-        setContentView(R.layout.activity_main_menu)
+        setContentView(R.layout.activity_login)
+    }
 
-        //this lines of code should be in MainMenuActivity, but for saving time, i place them here, will replace soon
-        //if you need to use this MainActivity, just comment out this code
-        //this code is for switching between tabs of bottom navigation bar, NOT do functional task
-        replaceFragment(mainMemuFragment)
+    override fun onStart() {
+        super.onStart()
+        mAuth = Firebase.auth
+        val user = mAuth.currentUser
+        val userEmail = mAuth.currentUser?.email
 
-        bottom_app_bar.setOnNavigationItemSelectedListener {
-            when(it.itemId) {
-                R.id.navbottombar_profile -> {
-                    replaceFragment(profileFragment)
-                    shoppingCart_button.visibility = View.GONE
-                }
-                R.id.navbottombar_home -> {
-                    replaceFragment(mainMemuFragment)
-                    shoppingCart_button.visibility = View.VISIBLE
-                }
-                R.id.navbottombar_favourite -> {
-                    replaceFragment(favouriteFragment)
-                    shoppingCart_button.visibility = View.VISIBLE
-                }
-                R.id.navbottombar_menu -> {
-                    replaceFragment(menuFragment)
-                    shoppingCart_button.visibility = View.VISIBLE
-                }
-            }
-            true
+        if(user == null){
+            startActivity(Intent(this, LoginActivity::class.java))
         }
-
-        shoppingCart_button.setOnClickListener() {
-            val intent = Intent(Intent(this, CartActivity::class.java))
-            intent.putExtra("customerID", "khoavo617@gmail")
+        else
+        {
+            val intent = Intent(this, MainMenuActivity::class.java)
+            intent.putExtra("customerEmail", userEmail)
             startActivity(intent)
         }
     }
-
-//    override fun onStart() {
-//        super.onStart()
-//        mAuth = Firebase.auth
-//        val user = mAuth.currentUser
-//        if(user == null){
-//            startActivity(Intent(this, LoginActivity::class.java))
-//        }
-//        else
-//        {
-//            startActivity(Intent(this, ProfileActivity::class.java))
-//        }
-//    }
-
-    //this function use for switching between tabs of bottom navigation bar, belong to MainMenuActivity
-    private fun replaceFragment(fragment: Fragment) {
-        val transaction = supportFragmentManager.beginTransaction()
-        transaction.replace(R.id.fragment_container, fragment)
-        transaction.commit()
-    }
 }
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.orderfoodapp\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.OrderFoodApp\">\r\n        <activity android:name=\".PaymentMethod\" />\r\n        <activity android:name=\".AboutUs\" />\r\n        <activity android:name=\".EditProfileActivity\" />\r\n        <activity android:name=\".FoodDetail\" />\r\n        <activity android:name=\".ProfileActivity\"/>\r\n        <activity android:name=\".MainMenuActivity\" />\r\n        <activity android:name=\".SignUpActivity\" />\r\n        <activity android:name=\".LoginActivity\" />\r\n        <activity android:name=\".CartActivity\" />\r\n        <activity android:name=\".CheckoutActivity\" />\r\n        <activity android:name=\".MainActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/AndroidManifest.xml	(date 1623163110523)
@@ -3,6 +3,8 @@
     package="com.example.orderfoodapp">
 
     <uses-permission android:name="android.permission.INTERNET" />
+    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
+    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
 
     <application
         android:allowBackup="true"
Index: app/src/main/java/com/example/orderfoodapp/CartItem.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp\r\n\r\ndata class CartItem(\r\n    var cartItemImage: String,\r\n    var cartItemName: String,\r\n    var cartItemAmount: Long,\r\n    var cartItemPrice: Double\r\n)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/CartItem.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/CartItem.kt	(date 1623050199841)
@@ -1,6 +1,8 @@
 package com.example.orderfoodapp
 
 data class CartItem(
+    var cartID: String,
+    var cartSize: String,
     var cartItemImage: String,
     var cartItemName: String,
     var cartItemAmount: Long,
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'kotlin-android'\r\n    id 'com.google.gms.google-services'\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.3\"\r\n    apply plugin: 'com.android.application'\r\n    apply plugin: 'kotlin-android'\r\n    apply plugin: 'kotlin-android-extensions'\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.orderfoodapp\"\r\n        multiDexEnabled true\r\n        android.defaultConfig.vectorDrawables.useSupportLibrary = true\r\n        minSdkVersion 17\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = '1.8'\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\r\n    implementation 'androidx.core:core-ktx:1.3.2'\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'com.google.android.material:material:1.3.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    implementation 'com.android.support:multidex:1.0.3'\r\n    // Import the BoM for the Firebase platform\r\n    implementation platform('com.google.firebase:firebase-bom:28.0.1')\r\n\r\n    // Declare the dependency for the Firebase Authentication library\r\n    // When using the BoM, you don't specify versions in Firebase library dependencies\r\n    implementation 'com.google.firebase:firebase-auth-ktx'\r\n\r\n    // Also declare the dependency for the Google Play services library and specify its version\r\n    implementation 'com.google.android.gms:play-services-auth:19.0.0'\r\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\r\n    implementation 'androidx.annotation:annotation:1.1.0'\r\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.2.0'\r\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.3.0'\r\n    implementation 'androidx.navigation:navigation-ui-ktx:2.3.0'\r\n    implementation 'com.google.firebase:firebase-database:20.0.0'\r\n\r\n    testImplementation 'junit:junit:4.+'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n\r\n    //material design\r\n    implementation 'com.google.android.material:material:1.2.0-alpha02'\r\n\r\n    //Gif component\r\n    implementation 'pl.droidsonroids.gif:android-gif-drawable:1.2.19'\r\n\r\n    implementation 'com.android.support:multidex:1.0.3'\r\n\r\n    //swipe action on cart item\r\n    implementation 'com.chauthai.swipereveallayout:swipe-reveal-layout:1.4.1'\r\n\r\n    //load image from an available URL\r\n    implementation 'com.squareup.picasso:picasso:2.71828'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/build.gradle	(date 1623163078048)
@@ -66,6 +66,7 @@
     implementation 'androidx.navigation:navigation-fragment-ktx:2.3.0'
     implementation 'androidx.navigation:navigation-ui-ktx:2.3.0'
     implementation 'com.google.firebase:firebase-database:20.0.0'
+    implementation 'com.google.android.gms:play-services-maps:17.0.1'
 
     testImplementation 'junit:junit:4.+'
     androidTestImplementation 'androidx.test.ext:junit:1.1.2'
@@ -84,4 +85,8 @@
 
     //load image from an available URL
     implementation 'com.squareup.picasso:picasso:2.71828'
+
+    implementation 'com.google.maps:google-maps-services:0.2.5'
+    implementation 'com.google.android.gms:play-services-location:18.0.0'
+    implementation 'com.google.android.gms:play-services-maps:17.0.1'
 }
\ No newline at end of file
Index: app/src/main/java/com/example/orderfoodapp/fragments/FilterAllFoodFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.orderfoodapp.fragments\r\n\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Toast\r\nimport androidx.recyclerview.widget.GridLayoutManager\r\nimport com.example.orderfoodapp.Dish\r\nimport com.example.orderfoodapp.DishAdapter\r\nimport com.example.orderfoodapp.R\r\nimport com.google.firebase.database.*\r\nimport kotlinx.android.synthetic.main.fragment_filter_all_food.*\r\n\r\nclass FilterAllFoodFragment : Fragment() {\r\n\r\n    private lateinit var dishAdapterAllFood: DishAdapter\r\n\r\n    private lateinit var database: FirebaseDatabase\r\n    private lateinit var ref: DatabaseReference\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_filter_all_food, container, false)\r\n    }\r\n\r\n    override fun onResume() {\r\n        super.onResume()\r\n\r\n        dishAdapterAllFood = DishAdapter(mutableListOf())\r\n        allFood_recyclerView.adapter = dishAdapterAllFood\r\n\r\n        val layoutManager = GridLayoutManager(context,2)\r\n        allFood_recyclerView.layoutManager = layoutManager\r\n\r\n        database = FirebaseDatabase.getInstance()\r\n        ref = database.getReference(\"Product\")\r\n        ref.addValueEventListener(object : ValueEventListener {\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n                dishAdapterAllFood.deleteAll()\r\n                for(data in snapshot.children) {\r\n                    val dish = Dish(\r\n                        data.child(\"id\").value as String,\r\n                        data.child(\"image\").value as String,\r\n                        data.child(\"name\").value as String,\r\n                        data.child(\"priceS\").value as Double,\r\n                        data.child(\"priceM\").value as Double,\r\n                        data.child(\"priceL\").value as Double,\r\n                        data.child(\"rated\").value as Double,\r\n                        data.child(\"deliveryTime\").value as String,\r\n                        data.child(\"category\").value as String,\r\n                        data.child(\"description\").value as String,\r\n                        data.child(\"salePercent\").value as Long,\r\n                        data.child(\"amount\").value as Long,\r\n                    )\r\n                    dishAdapterAllFood.addDish(dish)\r\n                }\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/orderfoodapp/fragments/FilterAllFoodFragment.kt	(revision 9649ee74b330349092df093908acf609f729a259)
+++ app/src/main/java/com/example/orderfoodapp/fragments/FilterAllFoodFragment.kt	(date 1623227867719)
@@ -1,18 +1,29 @@
 package com.example.orderfoodapp.fragments
 
+import android.app.Activity
+import android.content.pm.PackageManager
+import android.location.Address
+import android.location.Geocoder
 import android.os.Bundle
 import android.util.Log
-import androidx.fragment.app.Fragment
 import android.view.LayoutInflater
 import android.view.View
 import android.view.ViewGroup
 import android.widget.Toast
+import androidx.core.app.ActivityCompat
+import androidx.fragment.app.Fragment
 import androidx.recyclerview.widget.GridLayoutManager
 import com.example.orderfoodapp.Dish
 import com.example.orderfoodapp.DishAdapter
+import com.example.orderfoodapp.EstimateTime
 import com.example.orderfoodapp.R
+import com.google.android.gms.location.FusedLocationProviderClient
+import com.google.android.gms.location.LocationServices
 import com.google.firebase.database.*
 import kotlinx.android.synthetic.main.fragment_filter_all_food.*
+import java.util.*
+import kotlin.math.*
+
 
 class FilterAllFoodFragment : Fragment() {
 
@@ -74,4 +85,5 @@
 
     }
 
+
 }
\ No newline at end of file
